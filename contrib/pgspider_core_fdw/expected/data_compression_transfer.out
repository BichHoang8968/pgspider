-- ===================================================================
-- create FDW objects
-- ===================================================================
SET DATESTYLE TO ISO;
--Testcase 1:
CREATE EXTENSION pgspider_core_fdw;
--Testcase 2:
CREATE EXTENSION pgspider_fdw;
--Testcase 3:
CREATE EXTENSION postgres_fdw;
--Testcase 4:
CREATE EXTENSION mysql_fdw;
--Testcase 5:
CREATE EXTENSION oracle_fdw;
--Testcase 6:
CREATE EXTENSION griddb_fdw;
--Testcase 690:
CREATE EXTENSION influxdb_fdw;
--Testcase 7:
CREATE SERVER pgspider_core_svr FOREIGN DATA WRAPPER pgspider_core_fdw;
-- ===================================================================
-- OPTIONS TEST
-- ===================================================================
-- Proxy with valid value but not a valid proxy to connect
--Testcase 8:
CREATE SERVER cloud_test FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (endpoint 'http://localhost:8080', proxy 'squid.proxy', batch_size '1000');
--Testcase 9:
CREATE USER MAPPING FOR public SERVER cloud_test;
--Testcase 10:
CREATE SERVER postgres_svr_test FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host '127.0.0.1', port '5432', dbname 'test1');
--Testcase 818:
CREATE SERVER influxdb_svr_test FOREIGN DATA WRAPPER influxdb_fdw OPTIONS (host 'http://localhost', port '38086', dbname 'test1', version '2', retention_policy '');
--Testcase 11:
CREATE USER MAPPING FOR public SERVER postgres_svr_test OPTIONS (user 'postgres', password 'postgres');
--Testcase 819:
CREATE USER MAPPING FOR public SERVER influxdb_svr_test OPTIONS (auth_token 'mytoken');
--Testcase 12:
CREATE TABLE test_options (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
);
--Testcase 13:
INSERT INTO test_options VALUES (1000, 'test_option1', B'10101010', E'\\xa7a8a9aaabacadaeaf', true, 'a', '2001-01-01', 10000, -107, 212.2, 100, 'varchar10', 'bpchar10', 1, '2001-01-01 00:00:00', '2001-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b'], ARRAY['a',''], ARRAY[1000,2000], ARRAY[100,200], ARRAY[1,2], ARRAY['textbl1','text2'], ARRAY[1.0,2.0], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_1'], ARRAY[10000,20000], ARRAY['2001-01-01'::date,'2001-01-02'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz]);
--Testcase 14:
INSERT INTO test_options VALUES (2000, 'test_option2', B'10101010', E'\\xa7a8a9aaabacadaeaf', false, 'b', '2021-11-21', 20000, -107, 212.2, 100, 'varchar10', 'bpchar10', 2, '2021-11-11 00:00:00', '2021-11-11 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b'], ARRAY['a',''], ARRAY[1000,2000], ARRAY[100,200], ARRAY[1,2], ARRAY['textbl2','text2'], ARRAY[1.0,2.0], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_2'], ARRAY[10000,20000], ARRAY['2001-01-01'::date,'2001-01-02'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz]);
-- Migrate fail, proxy not exist
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: Could not resolve proxy: squid.proxy; Unknown error
ALTER SERVER cloud_test OPTIONS (DROP proxy);
-- Succeed migrate
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.793
--Testcase 15:
SELECT * FROM test_tbl ORDER BY c1;
  c1  |      c2      |    c3    |          c4          | c5 | c6 |     c7     |  c8   |  c9  |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |       c26       |  c27  |     c28     |       c29       |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+--------------+----------+----------------------+----+----+------------+-------+------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-----------------+-------+-------------+-----------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | test_option1 | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl1,text2} | {1,2} | {1000,2000} | {var1,textbl_1} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 2000 | test_option2 | 10101010 | \xa7a8a9aaabacadaeaf | f  | b  | 2021-11-21 | 20000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   2 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl2,text2} | {1,2} | {1000,2000} | {var1,textbl_2} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(2 rows)

--Testcase 16:
DROP DATASOURCE TABLE test_tbl;
--Testcase 17:
DROP FOREIGN TABLE test_tbl;
ALTER SERVER cloud_test OPTIONS (ADD proxy 'no');
-- Wrong relay, migrate fail
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloudtest');
ERROR:  server "cloudtest" does not exist
-- Wrong endpoint, migrate fail
ALTER SERVER cloud_test OPTIONS (SET endpoint 'http://localhost:3000');
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: Failed connect to localhost:3000; Connection refused
ALTER SERVER cloud_test OPTIONS (SET endpoint 'http://localhost:8080');
-- Wrong socket_port, migrate fail
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '-1', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  "socket_port" must be an integer value greater than 0 and less than 65536
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '65536', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  "socket_port" must be an integer value greater than 0 and less than 65536
-- Wrong function_timeout, migrate fail
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '-1') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  "function_timeout" must be an integer value greater than 0
-- Force use UserID, serverID; the value is duplicated inserted, migrate fail
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test', userID 'user_id');
ERROR:  option "userid" provided more than once
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test', serverID 'server_id');
ERROR:  option "serverid" provided more than once
-- Migrate repeat on same targets, migrate fail over due to datasource exist
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test'), postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: HTTP_INTERNAL_ERROR: java.lang.Exception: Execute DDL Failed: java.lang.Exception: org.postgresql.util.PSQLException: ERROR: relation "test_tbl" already exists
-- Migrate repeat on same targets, migrate succeed with different table name
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test1_tbl', relay 'cloud_test'), postgres_svr_test OPTIONS (table_name 'test2_tbl', relay 'cloud_test');
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.183
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.212
--Testcase 18:
SELECT * FROM test_tbl ORDER BY c1;
  c1  |      c2      |    c3    |          c4          | c5 | c6 |     c7     |  c8   |  c9  |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |       c26       |  c27  |     c28     |       c29       |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         |      __spd_url      
------+--------------+----------+----------------------+----+----+------------+-------+------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-----------------+-------+-------------+-----------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------+---------------------
 1000 | test_option1 | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl1,text2} | {1,2} | {1000,2000} | {var1,textbl_1} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"} | /postgres_svr_test/
 2000 | test_option2 | 10101010 | \xa7a8a9aaabacadaeaf | f  | b  | 2021-11-21 | 20000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   2 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl2,text2} | {1,2} | {1000,2000} | {var1,textbl_2} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"} | /postgres_svr_test/
(2 rows)

--Testcase 19:
SELECT * FROM test_tbl__postgres_svr_test__0;
  c1  |      c2      |    c3    |          c4          | c5 | c6 |     c7     |  c8   |  c9  |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |       c26       |  c27  |     c28     |       c29       |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+--------------+----------+----------------------+----+----+------------+-------+------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-----------------+-------+-------------+-----------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | test_option1 | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl1,text2} | {1,2} | {1000,2000} | {var1,textbl_1} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(1 row)

--Testcase 20:
SELECT * FROM test_tbl__postgres_svr_test__1;
  c1  |      c2      |    c3    |          c4          | c5 | c6 |     c7     |  c8   |  c9  |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |       c26       |  c27  |     c28     |       c29       |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+--------------+----------+----------------------+----+----+------------+-------+------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-----------------+-------+-------------+-----------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 2000 | test_option2 | 10101010 | \xa7a8a9aaabacadaeaf | f  | b  | 2021-11-21 | 20000 | -107 | 212.2 | 100 | varchar10 | bpchar10   |   2 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl2,text2} | {1,2} | {1000,2000} | {var1,textbl_2} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(1 row)

--Testcase 21:
DROP DATASOURCE TABLE test_tbl__postgres_svr_test__0;
--Testcase 22:
DROP DATASOURCE TABLE test_tbl__postgres_svr_test__1;
--Testcase 23:
DROP FOREIGN TABLE test_tbl__postgres_svr_test__0;
--Testcase 24:
DROP FOREIGN TABLE test_tbl__postgres_svr_test__1;
--Testcase 25:
DROP FOREIGN TABLE test_tbl;
--Testcase 26:
CREATE table test_bytea_array (c20 bytea[]);
--Testcase 27:
INSERT INTO test_bytea_array VALUES (ARRAY[E'\\1132165131651316153'::bytea, E'\\x151354865131651321'::bytea]);
-- Migrate fail, bytea array not support
MIGRATE TABLE test_bytea_array TO test_bytea OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_bytea', relay 'cloud_test');
ERROR:  Unsupported datatype
--Testcase 28:
DROP TABLE test_bytea_array;
-- Wrong target server
ALTER SERVER postgres_svr_test OPTIONS (SET port '12345');
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: HTTP_INTERNAL_ERROR: java.lang.Exception: Execute DDL Failed: org.postgresql.util.PSQLException: Connection to 127.0.0.1:12345 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
ALTER SERVER postgres_svr_test OPTIONS (SET port '5432', SET dbname 'dbnotexist');
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: HTTP_INTERNAL_ERROR: java.lang.Exception: Execute DDL Failed: org.postgresql.util.PSQLException: FATAL: database "dbnotexist" does not exist
ALTER SERVER postgres_svr_test OPTIONS (SET dbname 'test1', SET host 'invalid_host');
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: HTTP_INTERNAL_ERROR: java.lang.Exception: Execute DDL Failed: org.postgresql.util.PSQLException: The connection attempt failed.
ALTER SERVER postgres_svr_test OPTIONS (SET host '127.0.0.1');
ALTER USER MAPPING FOR public SERVER postgres_svr_test OPTIONS (SET user 'user', SET password 'pass');
MIGRATE TABLE test_options TO test_tbl OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
ERROR:  pgspider_fdw: HTTP_INTERNAL_ERROR: java.lang.Exception: Execute DDL Failed: org.postgresql.util.PSQLException: FATAL: role "user" does not exist
--Testcase 29:
DROP TABLE test_options;
--Testcase 820:
CREATE TABLE test_options (time timestamp with time zone, tag1 text, field1 integer, tag2 text, field2 integer);
--Testcase 821:
INSERT INTO test_options VALUES ('2004-10-19 10:23:54+02', 'tag1_1', 1, 'tag2_1', 2);
--Testcase 822:
INSERT INTO test_options VALUES ('2004-10-19 12:23:54+02', 'tag1_2', 3, 'tag2_2', 4);
--Testcase 827:
SELECT * FROM test_options ORDER BY time;
          time          |  tag1  | field1 |  tag2  | field2 
------------------------+--------+--------+--------+--------
 2004-10-19 01:23:54-07 | tag1_1 |      1 | tag2_1 |      2
 2004-10-19 03:23:54-07 | tag1_2 |      3 | tag2_2 |      4
(2 rows)

--Testcase 828:
-- Migrate influxdb fail, missing org option
MIGRATE TABLE test_options TO tbl_influxdb OPTIONS (socket_port '4814', function_timeout '800') SERVER influxdb_svr_test OPTIONS (table 'test_options', relay 'cloud_test', tags 'tag1, tag2');
ERROR:  PGSpider: org must be specified along with relay
-- Test tags option and time column, migrate succeed
--Testcase 823:
MIGRATE TABLE test_options TO tbl_influxdb OPTIONS (socket_port '4814', function_timeout '800') SERVER influxdb_svr_test OPTIONS (table 'test_options', relay 'cloud_test', org 'myorg', tags 'tag1, tag2');
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.077
--Testcase 824:
SELECT * FROM tbl_influxdb ORDER BY time;
          time          |  tag1  | field1 |  tag2  | field2 
------------------------+--------+--------+--------+--------
 2004-10-19 01:23:54-07 | tag1_1 |      1 | tag2_1 |      2
 2004-10-19 03:23:54-07 | tag1_2 |      3 | tag2_2 |      4
(2 rows)

--Testcase 825:
DROP DATASOURCE TABLE tbl_influxdb;
--Testcase 829:
CREATE TABLE test_time_text (time timestamp with time zone, time_text text, tag1 text, field1 integer, tag2 text, field2 integer);
--Testcase 830:
INSERT INTO test_time_text VALUES ('2021-03-03 00:00:01+07', '2021-02-03T00:00:03.123456789Z', 'tag1', 1, 'tag2', 2);
--Testcase 831:
INSERT INTO test_time_text VALUES ('2021-02-02 00:00:01+05', '2021-02-02T00:00:02.123456789Z', 'tag3', 3, 'tag4', 4);
--Testcase 832:
SELECT * FROM test_time_text ORDER by time;
          time          |           time_text            | tag1 | field1 | tag2 | field2 
------------------------+--------------------------------+------+--------+------+--------
 2021-02-01 11:00:01-08 | 2021-02-02T00:00:02.123456789Z | tag3 |      3 | tag4 |      4
 2021-03-02 09:00:01-08 | 2021-02-03T00:00:03.123456789Z | tag1 |      1 | tag2 |      2
(2 rows)

-- Migrate influxdb succeed, Inserting value has both 'time_text' and 'time' columns specified. the 'time' will be ignored
--Testcase 833:
MIGRATE TABLE test_time_text TO tbl_time_text OPTIONS (socket_port '4814', function_timeout '800') SERVER influxdb_svr_test OPTIONS (table 'test_time_text', relay 'cloud_test', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.116
--Testcase 834:
SELECT * FROM tbl_time_text ORDER by time;
             time              |           time_text            | tag1 | field1 | tag2 | field2 
-------------------------------+--------------------------------+------+--------+------+--------
 2021-02-01 16:00:02.123457-08 | 2021-02-02T00:00:02.123456789Z | tag3 |      3 | tag4 |      4
 2021-02-02 16:00:03.123457-08 | 2021-02-03T00:00:03.123456789Z | tag1 |      1 | tag2 |      2
(2 rows)

--Testcase 835:
DROP DATASOURCE TABLE tbl_time_text;
--Testcase 828:
DROP FOREIGN TABLE tbl_time_text;
--Testcase 826:
DROP FOREIGN TABLE tbl_influxdb;
--Testcase 827:
DROP TABLE test_options;
--Testcase 836:
DROP TABLE test_time_text;
--Testcase 30:
DROP SERVER postgres_svr_test CASCADE;
NOTICE:  drop cascades to user mapping for public on server postgres_svr_test
--Testcase 31:
DROP SERVER cloud_test CASCADE;
NOTICE:  drop cascades to user mapping for public on server cloud_test
-- ===================================================================
-- DATA COMPRESSION TRANSFER TEST
-- ===================================================================
DO $d$
    BEGIN
        EXECUTE $$CREATE SERVER loopback FOREIGN DATA WRAPPER postgres_fdw
            OPTIONS (dbname '$$||current_database()||$$',
                     port '$$||current_setting('port')||$$'
            )$$;
    END;
$d$;
--Testcase 32:
CREATE USER MAPPING FOR CURRENT_USER SERVER loopback;
-- ===================================================================
-- CREATE RELAY SERVER TABLE
-- ===================================================================
--Testcase 33:
CREATE SERVER cloud1 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (endpoint 'http://localhost:8080', proxy 'no', batch_size '10000');
--Testcase 34:
CREATE SERVER cloud2 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (endpoint 'http://localhost:8080', proxy 'no', batch_size '5000');
--Testcase 35:
CREATE SERVER cloud3 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (endpoint 'http://localhost:8080', proxy 'no', batch_size '1000');
--Testcase 36:
CREATE USER MAPPING FOR public SERVER cloud1;
--Testcase 37:
CREATE USER MAPPING FOR public SERVER cloud2;
--Testcase 38:
CREATE USER MAPPING FOR public SERVER cloud3;
-- ===================================================================
-- TO POSTGRES SERVER
-- ===================================================================
--Testcase 39:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 40:
CREATE DATASOURCE TABLE ft1;
--Testcase 41:
INSERT INTO t1 VALUES (1000, 'textbl_postgres', B'10101010', E'\\xa7a8a9aaabacadaeaf', true, 'a', '2001-01-01', 10000, 1E-107, 1E-37, 100, 'varchar10', 'bpchar10', 1, '2001-01-01 00:00:00', '2001-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b'], ARRAY['a',''], ARRAY[1000,2000], ARRAY[100,200], ARRAY[1,2], ARRAY['textbl_postgres','text2'], ARRAY[1.0,2.0], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_postgres'], ARRAY[10000,20000], ARRAY['2001-01-01'::date,'2001-01-02'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz]);
--Testcase 42:
INSERT INTO t1 VALUES (2000, 'text2', B'10101010', E'\\x9416a61d32132b321c', true, 'b', '2002-01-01', 20000, 1E-107, 1E-37, 100, 'varchar10', 'bpchar10', 2, '2001-01-01 00:00:00', '2001-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b', 'c'], ARRAY['a','', null], ARRAY[1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','text3'], ARRAY[1.0,2.0,null], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_postgres','vartextbl_postgres'], ARRAY[10000,20000,30000], ARRAY['2001-01-01'::date,'2001-01-02'::date,'2001-01-03'::date,'2001-01-04'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time,'2001-01-03 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz,'2001-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz,'2004-10-21 10:00:00+02'::timestamptz]);
--Testcase 43:
INSERT INTO t1 VALUES (3000, 'text3', B'10101010', E'\\x151354865131651321', false, 'c', '2003-01-01', 30000, 21122.213, 100.0, 200, 'char array', 'bpchar[]', 3, '2002-01-01 00:00:00', '2002-01-01 00:00:01+00', '2005-10-19 10:23:54','2005-10-19 10:23:54+02', ARRAY[true, false, true, null], ARRAY['a', 'b', 'c', null], ARRAY['a','','x'], ARRAY[1000,null,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2',null], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2001-01-01'::date,'2001-01-02'::date,'2001-01-03'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time,'2001-01-03 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz,'2001-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,null,'2004-10-21 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz,'2004-10-21 10:00:00+02'::timestamptz]);
--Testcase 44:
INSERT INTO t1 VALUES (4000, 'text4', B'10101010', E'\\x9416a61d32132b321c', false, 'd', '2004-01-01', 40000, 6565.10, 200.0, 300, 'char array', 'bpchar 1', 4, '2003-01-01 00:00:00', '2003-01-01 00:00:01+00', '2003-10-19 10:23:54','2003-10-19 10:23:54+02', ARRAY[true, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,-2000,3000], ARRAY[100,-200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000,50000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 45:
INSERT INTO t1 VALUES (5000, 'text5', B'10101010', E'\\x941231b65d15f16515', true, 'e', '2005-01-01', 50000, 599.010, 300.0, 400, 'char array', 'bpchar 2', 5, '2003-01-01 00:00:00', '2003-01-01 00:00:01+00', '2003-10-19 10:23:54','2003-10-19 10:23:54+02', ARRAY[true, false, false, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr',null], ARRAY[1.0,-2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 46:
INSERT INTO t1 VALUES (6000, 'text6', B'10101010', E'\\x151354865131651321', false, 'f', '2006-01-01', 60000, 4645.0, -400.0, 500, 'char array', 'bpchar 3', -1, '2004-01-01 00:00:00', '2004-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false, true, false], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5,6,7,8,9,10], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000,40000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 47:
INSERT INTO t1 VALUES (7000, 'text7', B'10101010', E'\\x941231b65d15f16515', true, 'g', '2007-01-01', 70000, -435.10, 500.0, -600, 'char array', 'bpchar 4', -2, '2005-01-01 00:00:00', '2005-01-01 00:00:01+00', '2005-10-19 10:23:54','2005-10-19 10:23:54+02', ARRAY[true, false, true, true,false], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300,400], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 48:
INSERT INTO t1 VALUES (8000, 'text8', B'10101010', E'\\x155e13a312d1c321b2', false, 'h', '2008-01-01', 80000, -4578.10, 600.0, 700, 'char array', 'bpchar 5', -3, '2006-01-01 00:00:00', '2006-01-01 00:00:01+00', '2006-10-19 10:23:54','2006-10-19 10:23:54+02', ARRAY[true, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,-200,300], ARRAY[1,2,-3,4,-5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,-20000,30000,null], ARRAY['2002-01-01'::date,'2001-01-02'::date,null,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 49:
INSERT INTO t1 VALUES (9000, 'text9', B'01010101', E'\\x6513213a321d321c23', true, 'i', '2009-01-01', 90000, 97878.10, 700.0, 800, 'char array', 'bpchar 6', -4, '2007-01-01 00:00:00', '2007-01-01 00:00:01+00', '2007-10-19 09:00:30','2003-10-19 09:00:30+02', ARRAY[false, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,200,300,400,500], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[-1.0,-2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 09:00:30'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 09:00:30'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 50:
INSERT INTO t1 VALUES (10000, 'textbl_postgres0', B'00000000', E'\\x16a51b651f651c651d', false, 'j', '2010-01-01', 10000, 454.10, 800.0, -900, 'char array', 'bpchar 7', 0, '2008-01-01 00:00:00', '2008-01-01 00:00:01+00', '2008-10-19 09:00:30','2008-10-19 09:00:30+02', ARRAY[true, false, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300], ARRAY[-1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 09:00:30'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 09:00:30'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 51:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 52:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 53:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 54:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 55:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 56:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 57:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 58:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 59:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 60:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 61:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 62:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 63:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 64:
CREATE SERVER postgres1 FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host '127.0.0.1', port '5432', dbname 'test1');
--Testcase 65:
CREATE SERVER postgres2 FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host '127.0.0.1', port '5432', dbname 'test2');
--Testcase 66:
CREATE SERVER postgres3 FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host '127.0.0.1', port '5432', dbname 'test3');
--Testcase 67:
CREATE USER MAPPING FOR public SERVER postgres1 OPTIONS (user 'postgres', password 'postgres');
--Testcase 68:
CREATE USER MAPPING FOR public SERVER postgres2 OPTIONS (user 'postgres', password 'postgres');
--Testcase 69:
CREATE USER MAPPING FOR public SERVER postgres3 OPTIONS (user 'postgres', password 'postgres');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres1 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 174.201
INFO:  compression ratio: 172.382
INFO:  compression ratio: 172.647
INFO:  compression ratio: 173.962
INFO:  compression ratio: 172.984
INFO:  compression ratio: 171.520
INFO:  compression ratio: 172.451
INFO:  compression ratio: 172.730
INFO:  compression ratio: 171.533
INFO:  compression ratio: 172.667
INFO:  compression ratio: 146.672
--Testcase 70:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 71:
CREATE foreign table ft_test (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres1 OPTIONS (table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 72:
SELECT count(*) FROM ft_test;
 count 
-------
 20480
(1 row)

--Testcase 73:
SELECT * FROM ft_test ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 74:
DROP DATASOURCE TABLE ft_test;
--Testcase 75:
DROP FOREIGN TABLE ft_test;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres1 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 174.201
INFO:  compression ratio: 172.382
INFO:  compression ratio: 172.647
INFO:  compression ratio: 173.962
INFO:  compression ratio: 172.984
INFO:  compression ratio: 171.520
INFO:  compression ratio: 172.451
INFO:  compression ratio: 172.730
INFO:  compression ratio: 171.533
INFO:  compression ratio: 172.667
INFO:  compression ratio: 146.672
--Testcase 76:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
--Testcase 77:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 78:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 79:
DROP DATASOURCE TABLE ft2;
--Testcase 80:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres1 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 174.201
INFO:  compression ratio: 172.382
INFO:  compression ratio: 172.647
INFO:  compression ratio: 173.962
INFO:  compression ratio: 172.984
INFO:  compression ratio: 171.520
INFO:  compression ratio: 172.451
INFO:  compression ratio: 172.730
INFO:  compression ratio: 171.533
INFO:  compression ratio: 172.667
INFO:  compression ratio: 146.672
--Testcase 81:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
--Testcase 82:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 83:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 84:
DROP DATASOURCE TABLE ft1;
--Testcase 85:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 86:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 172.294
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.458
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.221
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 132.509
INFO:  compression ratio: 134.706
INFO:  compression ratio: 135.252
--Testcase 87:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 88:
CREATE foreign table ft_test1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres1 OPTIONS (table_name 'T 2');
--Testcase 89:
CREATE foreign table ft_test2 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres2 OPTIONS (table_name 'T 2');
--Testcase 90:
CREATE foreign table ft_test3 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres3 OPTIONS (table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 91:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 92:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 93:
DROP DATASOURCE TABLE ft_test1;
--Testcase 94:
DROP FOREIGN TABLE ft_test1;
--Testcase 95:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 96:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 97:
DROP DATASOURCE TABLE ft_test2;
--Testcase 98:
DROP FOREIGN TABLE ft_test2;
--Testcase 99:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 100:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 101:
DROP DATASOURCE TABLE ft_test3;
--Testcase 102:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 172.294
INFO:  compression ratio: 172.458
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 172.458
INFO:  compression ratio: 174.531
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 172.221
INFO:  compression ratio: 135.252
INFO:  compression ratio: 134.706
INFO:  compression ratio: 132.509
--Testcase 103:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft2               | foreign table | vagrant
 public | ft2__postgres1__0 | foreign table | vagrant
 public | ft2__postgres2__0 | foreign table | vagrant
 public | ft2__postgres3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 104:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 105:
SELECT * FROM ft2__postgres1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 106:
SELECT * FROM ft2__postgres2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 107:
SELECT * FROM ft2__postgres3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 108:
DROP DATASOURCE TABLE ft2__postgres1__0;
--Testcase 109:
DROP DATASOURCE TABLE ft2__postgres2__0;
--Testcase 110:
DROP DATASOURCE TABLE ft2__postgres3__0;
--Testcase 111:
DROP FOREIGN TABLE ft2__postgres1__0;
--Testcase 112:
DROP FOREIGN TABLE ft2__postgres2__0;
--Testcase 113:
DROP FOREIGN TABLE ft2__postgres3__0;
--Testcase 114:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 172.294
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.458
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 172.221
INFO:  compression ratio: 135.252
INFO:  compression ratio: 134.706
INFO:  compression ratio: 132.509
--Testcase 115:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft1__postgres1__0 | foreign table | vagrant
 public | ft1__postgres2__0 | foreign table | vagrant
 public | ft1__postgres3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 116:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 117:
SELECT * FROM ft1__postgres1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 118:
SELECT * FROM ft1__postgres2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 119:
SELECT * FROM ft1__postgres3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 120:
DROP DATASOURCE TABLE ft1__postgres1__0;
--Testcase 121:
DROP DATASOURCE TABLE ft1__postgres2__0;
--Testcase 122:
DROP DATASOURCE TABLE ft1__postgres3__0;
--Testcase 123:
DROP FOREIGN TABLE ft1__postgres1__0;
--Testcase 124:
DROP FOREIGN TABLE ft1__postgres2__0;
--Testcase 125:
DROP FOREIGN TABLE ft1__postgres3__0;
--Testcase 126:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 127:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud2'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud3');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.294
INFO:  compression ratio: 172.458
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 134.950
INFO:  compression ratio: 169.770
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 135.252
INFO:  compression ratio: 134.950
INFO:  compression ratio: 132.509
INFO:  compression ratio: 122.874
--Testcase 128:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 129:
CREATE foreign table ft_test1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres1 OPTIONS (table_name 'T 2');
--Testcase 130:
CREATE foreign table ft_test2 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres2 OPTIONS (table_name 'T 2');
--Testcase 131:
CREATE foreign table ft_test3 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER postgres3 OPTIONS (table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 132:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 133:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 134:
DROP DATASOURCE TABLE ft_test1;
--Testcase 135:
DROP FOREIGN TABLE ft_test1;
--Testcase 136:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 137:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 138:
DROP DATASOURCE TABLE ft_test2;
--Testcase 139:
DROP FOREIGN TABLE ft_test2;
--Testcase 140:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 141:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 142:
DROP DATASOURCE TABLE ft_test3;
--Testcase 143:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud2'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud2');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.294
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.221
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.706
INFO:  compression ratio: 135.252
INFO:  compression ratio: 132.509
--Testcase 144:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft2               | foreign table | vagrant
 public | ft2__postgres1__0 | foreign table | vagrant
 public | ft2__postgres2__0 | foreign table | vagrant
 public | ft2__postgres3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 145:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 146:
SELECT * FROM ft2__postgres1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 147:
SELECT * FROM ft2__postgres2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 148:
SELECT * FROM ft2__postgres3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 149:
DROP DATASOURCE TABLE ft2__postgres1__0;
--Testcase 150:
DROP DATASOURCE TABLE ft2__postgres2__0;
--Testcase 151:
DROP DATASOURCE TABLE ft2__postgres3__0;
--Testcase 152:
DROP FOREIGN TABLE ft2__postgres1__0;
--Testcase 153:
DROP FOREIGN TABLE ft2__postgres2__0;
--Testcase 154:
DROP FOREIGN TABLE ft2__postgres3__0;
--Testcase 155:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'T 2', relay 'cloud1'),
        postgres2 OPTIONS (table_name 'T 2', relay 'cloud2'),
        postgres3 OPTIONS (table_name 'T 2', relay 'cloud3');
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.294
INFO:  compression ratio: 134.950
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 134.950
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 135.252
INFO:  compression ratio: 134.950
INFO:  compression ratio: 132.509
INFO:  compression ratio: 122.874
--Testcase 156:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft1__postgres1__0 | foreign table | vagrant
 public | ft1__postgres2__0 | foreign table | vagrant
 public | ft1__postgres3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 157:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 158:
SELECT * FROM ft1__postgres1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 159:
SELECT * FROM ft1__postgres2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 160:
SELECT * FROM ft1__postgres3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 161:
DROP DATASOURCE TABLE ft1__postgres1__0;
--Testcase 162:
DROP DATASOURCE TABLE ft1__postgres2__0;
--Testcase 163:
DROP DATASOURCE TABLE ft1__postgres3__0;
--Testcase 164:
DROP FOREIGN TABLE ft1__postgres1__0;
--Testcase 165:
DROP FOREIGN TABLE ft1__postgres2__0;
--Testcase 166:
DROP FOREIGN TABLE ft1__postgres3__0;
--Testcase 167:
DROP FOREIGN TABLE ft1;
--Testcase 168:
DROP TABLE t1;
-- ===================================================================
-- TO PGSPIDER SERVER
-- ===================================================================
--Testcase 169:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 170:
CREATE DATASOURCE TABLE ft1;
--Testcase 171:
INSERT INTO t1 VALUES (1000, 'textbl_postgres', B'10101010', E'\\xa7a8a9aaabacadaeaf', true, 'a', '2001-01-01', 10000, 1E-107, 1E-37, 100, 'varchar10', 'bpchar10', 1, '2001-01-01 00:00:00', '2001-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b'], ARRAY['a',''], ARRAY[1000,2000], ARRAY[100,200], ARRAY[1,2], ARRAY['textbl_postgres','text2'], ARRAY[1.0,2.0], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_postgres'], ARRAY[10000,20000], ARRAY['2001-01-01'::date,'2001-01-02'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz]);
--Testcase 172:
INSERT INTO t1 VALUES (2000, 'text2', B'10101010', E'\\x9416a61d32132b321c', true, 'b', '2002-01-01', 20000, 1E-107, 1E-37, 100, 'varchar10', 'bpchar10', 2, '2001-01-01 00:00:00', '2001-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false], ARRAY['a', 'b', 'c'], ARRAY['a','', null], ARRAY[1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','text3'], ARRAY[1.0,2.0,null], ARRAY[1000.0,2000.0], ARRAY['var1','textbl_postgres','vartextbl_postgres'], ARRAY[10000,20000,30000], ARRAY['2001-01-01'::date,'2001-01-02'::date,'2001-01-03'::date,'2001-01-04'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time,'2001-01-03 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz,'2001-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-20 10:23:54'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz,'2004-10-21 10:00:00+02'::timestamptz]);
--Testcase 173:
INSERT INTO t1 VALUES (3000, 'text3', B'10101010', E'\\x151354865131651321', false, 'c', '2003-01-01', 30000, 21122.213, 100.0, 200, 'char array', 'bpchar[]', 3, '2002-01-01 00:00:00', '2002-01-01 00:00:01+00', '2005-10-19 10:23:54','2005-10-19 10:23:54+02', ARRAY[true, false, true, null], ARRAY['a', 'b', 'c', null], ARRAY['a','','x'], ARRAY[1000,null,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2',null], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2001-01-01'::date,'2001-01-02'::date,'2001-01-03'::date], ARRAY['2001-01-01 00:00:00'::time,'2001-01-02 00:00:00'::time,'2001-01-03 00:00:00'::time], ARRAY['2001-01-01 00:00:01+00'::timetz,'2001-01-02 00:00:01+00'::timetz,'2001-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,null,'2004-10-21 10:23:54'::timestamp], ARRAY['2004-10-19 10:23:54+02'::timestamptz,'2004-10-20 10:23:54+02'::timestamptz,'2004-10-21 10:00:00+02'::timestamptz]);
--Testcase 174:
INSERT INTO t1 VALUES (4000, 'text4', B'10101010', E'\\x9416a61d32132b321c', false, 'd', '2004-01-01', 40000, 6565.10, 200.0, 300, 'char array', 'bpchar 1', 4, '2003-01-01 00:00:00', '2003-01-01 00:00:01+00', '2003-10-19 10:23:54','2003-10-19 10:23:54+02', ARRAY[true, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,-2000,3000], ARRAY[100,-200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000,50000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 175:
INSERT INTO t1 VALUES (5000, 'text5', B'10101010', E'\\x941231b65d15f16515', true, 'e', '2005-01-01', 50000, 599.010, 300.0, 400, 'char array', 'bpchar 2', 5, '2003-01-01 00:00:00', '2003-01-01 00:00:01+00', '2003-10-19 10:23:54','2003-10-19 10:23:54+02', ARRAY[true, false, false, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr',null], ARRAY[1.0,-2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 176:
INSERT INTO t1 VALUES (6000, 'text6', B'10101010', E'\\x151354865131651321', false, 'f', '2006-01-01', 60000, 4645.0, -400.0, 500, 'char array', 'bpchar 3', -1, '2004-01-01 00:00:00', '2004-01-01 00:00:01+00', '2004-10-19 10:23:54','2004-10-19 10:23:54+02', ARRAY[true, false, true, false], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300], ARRAY[1,2,3,4,5,6,7,8,9,10], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000,40000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 177:
INSERT INTO t1 VALUES (7000, 'text7', B'10101010', E'\\x941231b65d15f16515', true, 'g', '2007-01-01', 70000, -435.10, 500.0, -600, 'char array', 'bpchar 4', -2, '2005-01-01 00:00:00', '2005-01-01 00:00:01+00', '2005-10-19 10:23:54','2005-10-19 10:23:54+02', ARRAY[true, false, true, true,false], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300,400], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 10:23:54+02'::timestamptz,'2005-10-20 10:23:54+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 178:
INSERT INTO t1 VALUES (8000, 'text8', B'10101010', E'\\x155e13a312d1c321b2', false, 'h', '2008-01-01', 80000, -4578.10, 600.0, 700, 'char array', 'bpchar 5', -3, '2006-01-01 00:00:00', '2006-01-01 00:00:01+00', '2006-10-19 10:23:54','2006-10-19 10:23:54+02', ARRAY[true, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,-200,300], ARRAY[1,2,-3,4,-5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,-20000,30000,null], ARRAY['2002-01-01'::date,'2001-01-02'::date,null,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 10:23:54'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 10:23:54'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 179:
INSERT INTO t1 VALUES (9000, 'text9', B'01010101', E'\\x6513213a321d321c23', true, 'i', '2009-01-01', 90000, 97878.10, 700.0, 800, 'char array', 'bpchar 6', -4, '2007-01-01 00:00:00', '2007-01-01 00:00:01+00', '2007-10-19 09:00:30','2003-10-19 09:00:30+02', ARRAY[false, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[1000,2000,3000], ARRAY[100,200,300,400,500], ARRAY[1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[-1.0,-2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 09:00:30'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 09:00:30'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 180:
INSERT INTO t1 VALUES (10000, 'textbl_postgres0', B'00000000', E'\\x16a51b651f651c651d', false, 'j', '2010-01-01', 10000, 454.10, 800.0, -900, 'char array', 'bpchar 7', 0, '2008-01-01 00:00:00', '2008-01-01 00:00:01+00', '2008-10-19 09:00:30','2008-10-19 09:00:30+02', ARRAY[true, false, false, true, true], ARRAY['a', 'b', 'c', 'd'], ARRAY['a','c','','x'], ARRAY[-1000,2000,3000], ARRAY[100,200,300], ARRAY[-1,2,3,4,5], ARRAY['textbl_postgres','text2','textarr'], ARRAY[1.0,2.0,3.0], ARRAY[1000.0,2000.0,3000.0], ARRAY['vararr','textarr','vartextarray'], ARRAY[10000,20000,30000], ARRAY['2002-01-01'::date,'2001-01-02'::date,'2002-01-03'::date], ARRAY['2002-01-01 00:00:00'::time,'2002-01-02 00:00:00'::time,'2002-01-03 00:00:00'::time], ARRAY['2002-01-01 00:00:01+00'::timetz,'2002-01-02 00:00:01+00'::timetz,'2002-01-03 00:00:01+00'::timetz], ARRAY['2004-10-19 09:00:30'::timestamp,'2004-10-21 10:00:00'::timestamp,'2004-10-21 09:00:30'::timestamp], ARRAY['2005-10-19 09:00:30+02'::timestamptz,'2005-10-20 09:00:30+02'::timestamptz,'2005-10-21 10:00:00+02'::timestamptz]);
--Testcase 181:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 182:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 183:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 184:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 185:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 186:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 187:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 188:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 189:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 190:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 191:
INSERT INTO t1 SELECT * FROM t1;
--Testcase 192:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 193:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 194:
CREATE SERVER pgspider1 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (host '127.0.0.1', port '14813', dbname 'test1');
--Testcase 195:
CREATE SERVER pgspider2 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (host '127.0.0.1', port '14813', dbname 'test2');
--Testcase 196:
CREATE SERVER pgspider3 FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (host '127.0.0.1', port '14813', dbname 'test3');
--Testcase 197:
CREATE USER MAPPING FOR public SERVER pgspider1 OPTIONS (user 'postgres', password 'postgres');
--Testcase 198:
CREATE USER MAPPING FOR public SERVER pgspider2 OPTIONS (user 'postgres', password 'postgres');
--Testcase 199:
CREATE USER MAPPING FOR public SERVER pgspider3 OPTIONS (user 'postgres', password 'postgres');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER pgspider1 OPTIONS (table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 174.201
INFO:  compression ratio: 172.382
INFO:  compression ratio: 172.647
INFO:  compression ratio: 173.962
INFO:  compression ratio: 172.984
INFO:  compression ratio: 171.520
INFO:  compression ratio: 172.451
INFO:  compression ratio: 172.730
INFO:  compression ratio: 171.533
INFO:  compression ratio: 172.667
INFO:  compression ratio: 146.672
--Testcase 200:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 201:
CREATE foreign table ft_test (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider1 OPTIONS (table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 202:
SELECT count(*) FROM ft_test;
 count 
-------
 20480
(1 row)

--Testcase 203:
SELECT * FROM ft_test ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 204:
DROP FOREIGN TABLE ft_test;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER pgspider1 OPTIONS (table_name 't1', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 175.053
INFO:  compression ratio: 170.805
INFO:  compression ratio: 171.406
INFO:  compression ratio: 173.028
INFO:  compression ratio: 172.336
INFO:  compression ratio: 172.115
INFO:  compression ratio: 173.589
INFO:  compression ratio: 173.732
INFO:  compression ratio: 171.168
INFO:  compression ratio: 172.528
INFO:  compression ratio: 147.635
--Testcase 205:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
--Testcase 206:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 207:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 208:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER pgspider1 OPTIONS (table_name 't2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 175.053
INFO:  compression ratio: 170.805
INFO:  compression ratio: 171.406
INFO:  compression ratio: 173.028
INFO:  compression ratio: 172.336
INFO:  compression ratio: 172.115
INFO:  compression ratio: 173.589
INFO:  compression ratio: 173.732
INFO:  compression ratio: 171.168
INFO:  compression ratio: 172.528
INFO:  compression ratio: 147.635
--Testcase 209:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
--Testcase 210:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 211:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 212:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 213:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't3', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't4', relay 'cloud1'),
        pgspider3 OPTIONS (table_name 't5', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 171.243
INFO:  compression ratio: 171.854
INFO:  compression ratio: 170.560
INFO:  compression ratio: 171.243
INFO:  compression ratio: 171.854
INFO:  compression ratio: 171.487
INFO:  compression ratio: 171.854
INFO:  compression ratio: 171.876
INFO:  compression ratio: 171.487
INFO:  compression ratio: 133.675
INFO:  compression ratio: 134.861
INFO:  compression ratio: 134.444
--Testcase 214:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 215:
CREATE foreign table ft_test1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider1 OPTIONS (table_name 't3');
--Testcase 216:
CREATE foreign table ft_test2 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider2 OPTIONS (table_name 't4');
--Testcase 217:
CREATE foreign table ft_test3 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider3 OPTIONS (table_name 't5');
-- Check data for first 10 records and number of records
--Testcase 218:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 219:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 220:
DROP FOREIGN TABLE ft_test1;
--Testcase 221:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 222:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 223:
DROP FOREIGN TABLE ft_test2;
--Testcase 224:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 225:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 226:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't6', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't7', relay 'cloud1'),
        pgspider3 OPTIONS (table_name 't8', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 171.243
INFO:  compression ratio: 171.854
INFO:  compression ratio: 170.560
INFO:  compression ratio: 171.243
INFO:  compression ratio: 171.854
INFO:  compression ratio: 171.487
INFO:  compression ratio: 171.487
INFO:  compression ratio: 171.854
INFO:  compression ratio: 171.876
INFO:  compression ratio: 133.675
INFO:  compression ratio: 134.861
INFO:  compression ratio: 134.444
--Testcase 227:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft2               | foreign table | vagrant
 public | ft2__pgspider1__0 | foreign table | vagrant
 public | ft2__pgspider2__0 | foreign table | vagrant
 public | ft2__pgspider3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 228:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 229:
SELECT * FROM ft2__pgspider1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 230:
SELECT * FROM ft2__pgspider2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 231:
SELECT * FROM ft2__pgspider3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 232:
DROP FOREIGN TABLE ft2__pgspider1__0;
--Testcase 233:
DROP FOREIGN TABLE ft2__pgspider2__0;
--Testcase 234:
DROP FOREIGN TABLE ft2__pgspider3__0;
--Testcase 235:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't10', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't11', relay 'cloud1'),
        pgspider3 OPTIONS (table_name 't12', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 172.294
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.221
INFO:  compression ratio: 135.252
INFO:  compression ratio: 134.706
INFO:  compression ratio: 132.509
--Testcase 236:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft1__pgspider1__0 | foreign table | vagrant
 public | ft1__pgspider2__0 | foreign table | vagrant
 public | ft1__pgspider3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 237:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 238:
SELECT * FROM ft1__pgspider1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 239:
SELECT * FROM ft1__pgspider2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 240:
SELECT * FROM ft1__pgspider3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 241:
DROP FOREIGN TABLE ft1__pgspider1__0;
--Testcase 242:
DROP FOREIGN TABLE ft1__pgspider2__0;
--Testcase 243:
DROP FOREIGN TABLE ft1__pgspider3__0;
--Testcase 244:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 245:
CREATE foreign table ft1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't13', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't14', relay 'cloud2'),
        pgspider3 OPTIONS (table_name 't15', relay 'cloud3');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.294
INFO:  compression ratio: 134.950
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.458
INFO:  compression ratio: 134.950
INFO:  compression ratio: 169.770
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 122.874
INFO:  compression ratio: 132.509
INFO:  compression ratio: 135.252
--Testcase 246:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 247:
CREATE foreign table ft_test1 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider1 OPTIONS (table_name 't13');
--Testcase 248:
CREATE foreign table ft_test2 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider2 OPTIONS (table_name 't14');
--Testcase 249:
CREATE foreign table ft_test3 (c1 bigint, c2 text, c3 bit(8), c4 bytea, c5 bool, c6 "char", c7 date, c8 numeric, c9 float8,
    c10 float4, c11 int, c12 varchar(10), c13 char(10), c14 smallint, c15 time, c16 timetz, c17 timestamp, c18 timestamptz,
    c19 bool[], c21 "char"[], c22 char[], c23 bigint[], c24 int[], c25 smallint[], c26 text[], c27 float4[], c28 float8[],
    c29 varchar[], c30 numeric[], c31 date[], c32 time[], c33 timetz[], c34 timestamp[], c35 timestamptz[]
)SERVER pgspider3 OPTIONS (table_name 't15');
-- Check data for first 10 records and number of records
--Testcase 250:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 251:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 252:
DROP FOREIGN TABLE ft_test1;
--Testcase 253:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 254:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 255:
DROP FOREIGN TABLE ft_test2;
--Testcase 256:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 257:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 258:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't16', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't17', relay 'cloud2'),
        pgspider3 OPTIONS (table_name 't18', relay 'cloud2');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  compression ratio: 174.531
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.294
INFO:  compression ratio: 174.531
INFO:  compression ratio: 169.770
INFO:  compression ratio: 172.458
INFO:  compression ratio: 169.770
INFO:  compression ratio: 172.221
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.706
INFO:  compression ratio: 132.509
INFO:  compression ratio: 135.252
--Testcase 259:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft2               | foreign table | vagrant
 public | ft2__pgspider1__0 | foreign table | vagrant
 public | ft2__pgspider2__0 | foreign table | vagrant
 public | ft2__pgspider3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 260:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 261:
SELECT * FROM ft2__pgspider1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 262:
SELECT * FROM ft2__pgspider2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 263:
SELECT * FROM ft2__pgspider3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 264:
DROP FOREIGN TABLE ft2__pgspider1__0;
--Testcase 265:
DROP FOREIGN TABLE ft2__pgspider2__0;
--Testcase 266:
DROP FOREIGN TABLE ft2__pgspider3__0;
--Testcase 267:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        pgspider1 OPTIONS (table_name 't19', relay 'cloud1'),
        pgspider2 OPTIONS (table_name 't20', relay 'cloud2'),
        pgspider3 OPTIONS (table_name 't21', relay 'cloud3');
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1927
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.458
INFO:  compression ratio: 172.294
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 172.458
INFO:  compression ratio: 134.950
INFO:  compression ratio: 169.770
INFO:  compression ratio: 134.950
INFO:  compression ratio: 174.531
INFO:  compression ratio: 134.950
INFO:  compression ratio: 122.874
INFO:  compression ratio: 135.252
INFO:  compression ratio: 132.509
--Testcase 268:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft1__pgspider1__0 | foreign table | vagrant
 public | ft1__pgspider2__0 | foreign table | vagrant
 public | ft1__pgspider3__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 269:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 270:
SELECT * FROM ft1__pgspider1__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 271:
SELECT * FROM ft1__pgspider2__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 272:
SELECT * FROM ft1__pgspider3__0 ORDER BY c1 LIMIT 10;
  c1  |       c2        |    c3    |          c4          | c5 | c6 |     c7     |  c8   |   c9   |  c10  | c11 |    c12    |    c13     | c14 |   c15    |     c16     |         c17         |          c18           |  c19  |  c21  |   c22   |     c23     |    c24    |  c25  |           c26           |  c27  |     c28     |          c29           |      c30      |           c31           |         c32         |            c33            |                      c34                      |                         c35                         
------+-----------------+----------+----------------------+----+----+------------+-------+--------+-------+-----+-----------+------------+-----+----------+-------------+---------------------+------------------------+-------+-------+---------+-------------+-----------+-------+-------------------------+-------+-------------+------------------------+---------------+-------------------------+---------------------+---------------------------+-----------------------------------------------+-----------------------------------------------------
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
 1000 | textbl_postgres | 10101010 | \xa7a8a9aaabacadaeaf | t  | a  | 2001-01-01 | 10000 | 1e-107 | 1e-37 | 100 | varchar10 | bpchar10   |   1 | 00:00:00 | 00:00:01+00 | 2004-10-19 10:23:54 | 2004-10-19 01:23:54-07 | {t,f} | {a,b} | {a," "} | {1000,2000} | {100,200} | {1,2} | {textbl_postgres,text2} | {1,2} | {1000,2000} | {var1,textbl_postgres} | {10000,20000} | {2001-01-01,2001-01-02} | {00:00:00,00:00:00} | {00:00:01+00,00:00:01+00} | {"2004-10-19 10:23:54","2004-10-20 10:23:54"} | {"2004-10-19 01:23:54-07","2004-10-20 01:23:54-07"}
(10 rows)

--Testcase 273:
DROP FOREIGN TABLE ft1__pgspider1__0;
--Testcase 274:
DROP FOREIGN TABLE ft1__pgspider2__0;
--Testcase 275:
DROP FOREIGN TABLE ft1__pgspider3__0;
--Testcase 276:
DROP FOREIGN TABLE ft1;
--Testcase 277:
DROP TABLE t1;
-- ===================================================================
-- TO MYSQL SERVER
-- ===================================================================
--Testcase 278:
CREATE FOREIGN TABLE ft1 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 279:
CREATE DATASOURCE TABLE ft1;
--Testcase 280:
INSERT INTO t1 VALUES (100, 10, 1, 1.0, 100.0, 10000, B'1', '2001-01-01', '2001-01-03 00:00:00', '2000-11-11 10:10:10', '15454a', 'mysql: text1', 'test1', '\x9416a61d32132b321c');
--Testcase 281:
INSERT INTO t1 VALUES (200, 20, 2, 2.0, 200.0, 20000, B'0', '2002-02-02', '2002-02-03 20:00:00', '2002-12-12 10:12:11', 'DDr', 'mysql: text2', 'test2', '\x9416a61d32132b321c');
--Testcase 282:
INSERT INTO t1 VALUES (300, 30, 3, 3.0, 300.0, 30000, B'1', '2003-03-03', '2003-03-03 10:10:00', '2003-11-13 10:12:10', 'vad', 'mysql: text3', 'test3', '\x16a51b651f651c651d');
--Testcase 283:
INSERT INTO t1 VALUES (400, 40, 4, 4.0, 400.0, 40000, B'0', '2004-04-04', '2004-04-04 18:01:01', '2004-04-14 20:20:10', 'rwe', 'mysql: text4', 'test4', '\x151354865131651321');
--Testcase 284:
INSERT INTO t1 VALUES (500, 50, 5, 5.0, 500.0, 50000, B'1', '2005-05-05', '2005-05-05 05:05:05', '2005-11-15 15:15:15', 'are', 'mysql: text5', 'test5', '\x151354865131651321');
--Testcase 285:
INSERT INTO t1 VALUES (600, 60, 6, 6.0, 600.0, 60000, B'1', '2006-06-06', '2006-06-06 06:06:06', '2006-06-06 16:16:16', 'test', 'mysql: any text possible 1', 'test6', '\x16a51b651f651c651d');
--Testcase 286:
INSERT INTO t1 VALUES (700, 70, 7, 7.0, 700.0, 70000, B'0', '2007-07-07', '2007-07-07 07:07:07', '2007-07-07 17:17:17', 'tet', 'mysql: any text possible 2', 'test7', '\x151354865131651321');
--Testcase 287:
INSERT INTO t1 VALUES (800, 80, 8, 8.0, 800.0, 80000, B'1', '2008-08-08', '2008-08-08 08:08:08', '2008-08-11 18:10:12', 'test', 'mysql: any text possible 3', 'test8', '\x151354865131651321');
--Testcase 288:
INSERT INTO t1 VALUES (900, 90, 9, 19.0, 900.0, 90000, B'1', '2009-09-09', '2009-01-03 00:00:00', '2009-11-11 20:12:10', 'afawef', 'mysql: any text possible 4', 'test9', '\x16a51b651f651c651d');
--Testcase 289:
INSERT INTO t1 VALUES (1000, 100, 10, 10.0, 1000.0, 100000, B'0', '2010-01-01', '2011-01-03 00:01:01', '2011-11-11 10:15:10', 'aw4333g', 'mysql: any text possible 5', 'test10', '\x9416a61d32132b321c');
--Testcase 290:
INSERT INTO t1 select * from t1;
--Testcase 291:
INSERT INTO t1 select * from t1;
--Testcase 292:
INSERT INTO t1 select * from t1;
--Testcase 293:
INSERT INTO t1 select * from t1;
--Testcase 294:
INSERT INTO t1 select * from t1;
--Testcase 295:
INSERT INTO t1 select * from t1;
--Testcase 296:
INSERT INTO t1 select * from t1;
--Testcase 297:
INSERT INTO t1 select * from t1;
--Testcase 298:
INSERT INTO t1 select * from t1;
--Testcase 299:
INSERT INTO t1 select * from t1;
--Testcase 300:
INSERT INTO t1 select * from t1;
--Testcase 301:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 302:
SELECT * FROM ft1 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
(10 rows)

--Testcase 303:
CREATE SERVER mysql1 FOREIGN DATA WRAPPER mysql_fdw OPTIONS (host '127.0.0.1', port '3306');
--Testcase 304:
CREATE SERVER mysql2 FOREIGN DATA WRAPPER mysql_fdw OPTIONS (host '127.0.0.1', port '3306');
--Testcase 305:
CREATE SERVER mysql3 FOREIGN DATA WRAPPER mysql_fdw OPTIONS (host '127.0.0.1', port '3306');
--Testcase 306:
CREATE USER MAPPING FOR public SERVER mysql1 OPTIONS (username 'root', password 'Mysql_1234');
--Testcase 307:
CREATE USER MAPPING FOR public SERVER mysql2 OPTIONS (username 'root', password 'Mysql_1234');
--Testcase 308:
CREATE USER MAPPING FOR public SERVER mysql3 OPTIONS (username 'root', password 'Mysql_1234');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 110.125
INFO:  compression ratio: 106.856
INFO:  compression ratio: 90.713
INFO:  compression ratio: 105.435
INFO:  compression ratio: 88.423
--Testcase 309:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 310:
CREATE foreign table ft_test ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 311:
SELECT count(*) FROM ft_test;
 count 
-------
 20480
(1 row)

--Testcase 312:
SELECT * FROM ft_test LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
(10 rows)

--Testcase 313:
DROP DATASOURCE TABLE ft_test;
--Testcase 314:
DROP FOREIGN TABLE ft_test;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 110.125
INFO:  compression ratio: 106.856
INFO:  compression ratio: 90.713
INFO:  compression ratio: 105.435
INFO:  compression ratio: 88.423
--Testcase 315:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
--Testcase 316:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 317:
SELECT * FROM ft2 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
(10 rows)

--Testcase 318:
DROP DATASOURCE TABLE ft2;
--Testcase 319:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 110.125
INFO:  compression ratio: 106.856
INFO:  compression ratio: 90.713
INFO:  compression ratio: 105.435
INFO:  compression ratio: 88.423
--Testcase 320:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
--Testcase 321:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 322:
SELECT * FROM ft1 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
(10 rows)

--Testcase 323:
DROP DATASOURCE TABLE ft1;
--Testcase 324:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 325:
CREATE foreign table ft1 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud1'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 103.253
INFO:  compression ratio: 102.844
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 98.310
INFO:  compression ratio: 103.192
INFO:  compression ratio: 93.281
INFO:  compression ratio: 96.207
--Testcase 326:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 327:
CREATE foreign table ft_test1 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2');
--Testcase 328:
CREATE foreign table ft_test2 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql2 OPTIONS (dbname 'test2', table_name 'T 2');
--Testcase 329:
CREATE foreign table ft_test3 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql3 OPTIONS (dbname 'test3', table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 330:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 331:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 332:
DROP DATASOURCE TABLE ft_test1;
--Testcase 333:
DROP FOREIGN TABLE ft_test1;
--Testcase 334:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 335:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 336:
DROP DATASOURCE TABLE ft_test2;
--Testcase 337:
DROP FOREIGN TABLE ft_test2;
--Testcase 338:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 339:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 340:
DROP DATASOURCE TABLE ft_test3;
--Testcase 341:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud1'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 103.253
INFO:  compression ratio: 102.844
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 98.310
INFO:  compression ratio: 103.192
INFO:  compression ratio: 93.281
INFO:  compression ratio: 96.207
--Testcase 342:
\d
                 List of relations
 Schema |      Name      |     Type      |  Owner  
--------+----------------+---------------+---------
 public | ft1            | foreign table | vagrant
 public | ft2            | foreign table | vagrant
 public | ft2__mysql1__0 | foreign table | vagrant
 public | ft2__mysql2__0 | foreign table | vagrant
 public | ft2__mysql3__0 | foreign table | vagrant
 public | t1             | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 343:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 344:
SELECT * FROM ft2__mysql1__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 345:
SELECT * FROM ft2__mysql2__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 346:
SELECT * FROM ft2__mysql3__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 347:
DROP DATASOURCE TABLE ft2__mysql1__0;
--Testcase 348:
DROP DATASOURCE TABLE ft2__mysql2__0;
--Testcase 349:
DROP DATASOURCE TABLE ft2__mysql3__0;
--Testcase 350:
DROP FOREIGN TABLE ft2__mysql1__0;
--Testcase 351:
DROP FOREIGN TABLE ft2__mysql2__0;
--Testcase 352:
DROP FOREIGN TABLE ft2__mysql3__0;
--Testcase 353:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud1'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 103.253
INFO:  compression ratio: 102.844
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 98.310
INFO:  compression ratio: 103.192
INFO:  compression ratio: 96.207
INFO:  compression ratio: 93.281
--Testcase 354:
\d
                 List of relations
 Schema |      Name      |     Type      |  Owner  
--------+----------------+---------------+---------
 public | ft1            | foreign table | vagrant
 public | ft1__mysql1__0 | foreign table | vagrant
 public | ft1__mysql2__0 | foreign table | vagrant
 public | ft1__mysql3__0 | foreign table | vagrant
 public | t1             | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 355:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 356:
SELECT * FROM ft1__mysql1__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 357:
SELECT * FROM ft1__mysql2__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 358:
SELECT * FROM ft1__mysql3__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 359:
DROP DATASOURCE TABLE ft1__mysql1__0;
--Testcase 360:
DROP DATASOURCE TABLE ft1__mysql2__0;
--Testcase 361:
DROP DATASOURCE TABLE ft1__mysql3__0;
--Testcase 362:
DROP FOREIGN TABLE ft1__mysql1__0;
--Testcase 363:
DROP FOREIGN TABLE ft1__mysql2__0;
--Testcase 364:
DROP FOREIGN TABLE ft1__mysql3__0;
--Testcase 365:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 366:
CREATE foreign table ft1 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud2'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 62.859
INFO:  compression ratio: 98.310
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 103.253
INFO:  compression ratio: 73.369
INFO:  compression ratio: 74.092
INFO:  compression ratio: 74.243
INFO:  compression ratio: 60.734
INFO:  compression ratio: 93.281
INFO:  compression ratio: 96.207
INFO:  compression ratio: 58.086
INFO:  compression ratio: 62.998
--Testcase 367:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 368:
CREATE foreign table ft_test1 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql1 OPTIONS (dbname 'test1', table_name 'T 2');
--Testcase 369:
CREATE foreign table ft_test2 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql2 OPTIONS (dbname 'test2', table_name 'T 2');
--Testcase 370:
CREATE foreign table ft_test3 ( c1 bigint, c2 int, c3 smallint, c4 float4,
        c5 float8, c6 numeric, c7 bit, c8 date, c9 time, c10 timestamp,
        c11 varchar(10), c12 text, c13 char(10), c14 bytea
)SERVER mysql3 OPTIONS (dbname 'test3', table_name 'T 2');
-- Check data for first 10 records and number of records
--Testcase 371:
SELECT count(*) FROM ft_test1;
 count 
-------
  6827
(1 row)

--Testcase 372:
SELECT * FROM ft_test1 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
(10 rows)

--Testcase 373:
DROP DATASOURCE TABLE ft_test1;
--Testcase 374:
DROP FOREIGN TABLE ft_test1;
--Testcase 375:
SELECT count(*) FROM ft_test2;
 count 
-------
  6827
(1 row)

--Testcase 376:
SELECT * FROM ft_test2 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
(10 rows)

--Testcase 377:
DROP DATASOURCE TABLE ft_test2;
--Testcase 378:
DROP FOREIGN TABLE ft_test2;
--Testcase 379:
SELECT count(*) FROM ft_test3;
 count 
-------
  6826
(1 row)

--Testcase 380:
SELECT * FROM ft_test3 LIMIT 10;
  c1  | c2  | c3 | c4 |  c5  |   c6   | c7 |     c8     |    c9    |         c10         |   c11   |            c12             |    c13     |         c14          
------+-----+----+----+------+--------+----+------------+----------+---------------------+---------+----------------------------+------------+----------------------
  300 |  30 |  3 |  3 |  300 |  30000 | 1  | 2003-03-03 | 10:10:00 | 2003-11-13 10:12:10 | vad     | mysql: text3               | test3      | \x16a51b651f651c651d
  600 |  60 |  6 |  6 |  600 |  60000 | 1  | 2006-06-06 | 06:06:06 | 2006-06-06 16:16:16 | test    | mysql: any text possible 1 | test6      | \x16a51b651f651c651d
  900 |  90 |  9 | 19 |  900 |  90000 | 1  | 2009-09-09 | 00:00:00 | 2009-11-11 20:12:10 | afawef  | mysql: any text possible 4 | test9      | \x16a51b651f651c651d
  200 |  20 |  2 |  2 |  200 |  20000 | 0  | 2002-02-02 | 20:00:00 | 2002-12-12 10:12:11 | DDr     | mysql: text2               | test2      | \x9416a61d32132b321c
  500 |  50 |  5 |  5 |  500 |  50000 | 1  | 2005-05-05 | 05:05:05 | 2005-11-15 15:15:15 | are     | mysql: text5               | test5      | \x151354865131651321
  800 |  80 |  8 |  8 |  800 |  80000 | 1  | 2008-08-08 | 08:08:08 | 2008-08-11 18:10:12 | test    | mysql: any text possible 3 | test8      | \x151354865131651321
  100 |  10 |  1 |  1 |  100 |  10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a  | mysql: text1               | test1      | \x9416a61d32132b321c
  400 |  40 |  4 |  4 |  400 |  40000 | 0  | 2004-04-04 | 18:01:01 | 2004-04-14 20:20:10 | rwe     | mysql: text4               | test4      | \x151354865131651321
  700 |  70 |  7 |  7 |  700 |  70000 | 0  | 2007-07-07 | 07:07:07 | 2007-07-07 17:17:17 | tet     | mysql: any text possible 2 | test7      | \x151354865131651321
 1000 | 100 | 10 | 10 | 1000 | 100000 | 0  | 2010-01-01 | 00:01:01 | 2011-11-11 10:15:10 | aw4333g | mysql: any text possible 5 | test10     | \x9416a61d32132b321c
(10 rows)

--Testcase 381:
DROP DATASOURCE TABLE ft_test3;
--Testcase 382:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud2'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud2');
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 102.844
INFO:  compression ratio: 103.253
INFO:  compression ratio: 98.310
INFO:  compression ratio: 103.192
INFO:  compression ratio: 93.281
INFO:  compression ratio: 96.207
--Testcase 383:
\d
                 List of relations
 Schema |      Name      |     Type      |  Owner  
--------+----------------+---------------+---------
 public | ft1            | foreign table | vagrant
 public | ft2            | foreign table | vagrant
 public | ft2__mysql1__0 | foreign table | vagrant
 public | ft2__mysql2__0 | foreign table | vagrant
 public | ft2__mysql3__0 | foreign table | vagrant
 public | t1             | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 384:
SELECT count(*) FROM ft2;
 count 
-------
 20480
(1 row)

--Testcase 385:
SELECT * FROM ft2__mysql1__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 386:
SELECT * FROM ft2__mysql2__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 387:
SELECT * FROM ft2__mysql3__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 388:
DROP DATASOURCE TABLE ft2__mysql1__0;
--Testcase 389:
DROP DATASOURCE TABLE ft2__mysql2__0;
--Testcase 390:
DROP DATASOURCE TABLE ft2__mysql3__0;
--Testcase 391:
DROP FOREIGN TABLE ft2__mysql1__0;
--Testcase 392:
DROP FOREIGN TABLE ft2__mysql2__0;
--Testcase 393:
DROP FOREIGN TABLE ft2__mysql3__0;
--Testcase 394:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        mysql1 OPTIONS (dbname 'test1', table_name 'T 2', relay 'cloud1'),
        mysql2 OPTIONS (dbname 'test2', table_name 'T 2', relay 'cloud2'),
        mysql3 OPTIONS (dbname 'test3', table_name 'T 2', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 62.859
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 98.310
INFO:  Batch Insert for pgspider_fdw, batch size = 4681
INFO:  compression ratio: 103.253
INFO:  compression ratio: 73.369
INFO:  compression ratio: 74.092
INFO:  compression ratio: 74.243
INFO:  compression ratio: 60.734
INFO:  compression ratio: 96.207
INFO:  compression ratio: 93.281
INFO:  compression ratio: 58.086
INFO:  compression ratio: 62.998
--Testcase 395:
\d
                 List of relations
 Schema |      Name      |     Type      |  Owner  
--------+----------------+---------------+---------
 public | ft1            | foreign table | vagrant
 public | ft1__mysql1__0 | foreign table | vagrant
 public | ft1__mysql2__0 | foreign table | vagrant
 public | ft1__mysql3__0 | foreign table | vagrant
 public | t1             | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 396:
SELECT count(*) FROM ft1;
 count 
-------
 20480
(1 row)

--Testcase 397:
SELECT * FROM ft1__mysql1__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 398:
SELECT * FROM ft1__mysql2__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 399:
SELECT * FROM ft1__mysql3__0 ORDER BY c1 LIMIT 10;
 c1  | c2 | c3 | c4 | c5  |  c6   | c7 |     c8     |    c9    |         c10         |  c11   |     c12      |    c13     |         c14          
-----+----+----+----+-----+-------+----+------------+----------+---------------------+--------+--------------+------------+----------------------
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
 100 | 10 |  1 |  1 | 100 | 10000 | 1  | 2001-01-01 | 00:00:00 | 2000-11-11 10:10:10 | 15454a | mysql: text1 | test1      | \x9416a61d32132b321c
(10 rows)

--Testcase 400:
DROP DATASOURCE TABLE ft1__mysql1__0;
--Testcase 401:
DROP DATASOURCE TABLE ft1__mysql2__0;
--Testcase 402:
DROP DATASOURCE TABLE ft1__mysql3__0;
--Testcase 403:
DROP FOREIGN TABLE ft1__mysql1__0;
--Testcase 404:
DROP FOREIGN TABLE ft1__mysql2__0;
--Testcase 405:
DROP FOREIGN TABLE ft1__mysql3__0;
--Testcase 406:
DROP FOREIGN TABLE ft1;
--Testcase 407:
DROP TABLE t1;
-- ===================================================================
-- TO GRIDDB SERVER
-- ===================================================================
--Testcase 408:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 409:
CREATE DATASOURCE TABLE ft1;
--Testcase 410:
INSERT INTO t1
	SELECT id,
	       id % 1000,
		   id % 100,
		   id / 110,
		   id / 2,
		   true,
		   '1970-01-02'::timestamp + ((id % 100) || ' days')::interval,
	           to_char(id, 'FM00000')
        FROM generate_series(1, 20000) id;
--Testcase 411:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 412:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
(10 rows)

-- Griddb use port 20001 for JDBC connection
--Testcase 413:
CREATE SERVER griddb1 FOREIGN DATA WRAPPER griddb_fdw OPTIONS (host '127.0.0.1', port '20002', clustername 'dockerGridDB');
--Testcase 414:
CREATE SERVER griddb2 FOREIGN DATA WRAPPER griddb_fdw OPTIONS (host '127.0.0.1', port '20003', clustername 'dockerGridDB');
--Testcase 415:
CREATE SERVER griddb3 FOREIGN DATA WRAPPER griddb_fdw OPTIONS (host '127.0.0.1', port '20004', clustername 'dockerGridDB');
--Testcase 416:
CREATE USER MAPPING FOR public SERVER griddb1 OPTIONS (username 'admin', password 'admin');
--Testcase 417:
CREATE USER MAPPING FOR public SERVER griddb2 OPTIONS (username 'admin', password 'admin');
--Testcase 418:
CREATE USER MAPPING FOR public SERVER griddb3 OPTIONS (username 'admin', password 'admin');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER griddb1 OPTIONS (table_name 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.198
INFO:  compression ratio: 2.205
INFO:  compression ratio: 2.167
--Testcase 419:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 420:
CREATE foreign table ft_test (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb1 OPTIONS (table_name 'T2');
-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 421:
SELECT count(*) FROM ft_test;
 count 
-------
 20000
(1 row)

--Testcase 422:
SELECT * FROM ft_test ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
(10 rows)

--Testcase 423:
DROP DATASOURCE TABLE ft_test;
--Testcase 424:
DROP FOREIGN TABLE ft_test;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER griddb1 OPTIONS (table_name 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.198
INFO:  compression ratio: 2.205
INFO:  compression ratio: 2.167
--Testcase 425:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 426:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 427:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
(10 rows)

--Testcase 428:
DROP DATASOURCE TABLE ft2;
--Testcase 429:
DROP FOREIGN TABLE ft2;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER griddb1 OPTIONS (table_name 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.198
INFO:  compression ratio: 2.205
INFO:  compression ratio: 2.167
--Testcase 430:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 431:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 432:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
(10 rows)

--Testcase 433:
DROP DATASOURCE TABLE ft1;
--Testcase 434:
DROP FOREIGN TABLE ft1;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
-- create again src table
--Testcase 435:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud1'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.959
INFO:  compression ratio: 1.965
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.964
--Testcase 436:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 437:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb1 OPTIONS (table_name 't1');
--Testcase 438:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb2 OPTIONS (table_name 't2');
--Testcase 439:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb3 OPTIONS (table_name 't3');
-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 440:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 441:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 442:
DROP DATASOURCE TABLE ft_test1;
--Testcase 443:
DROP FOREIGN TABLE ft_test1;
--Testcase 444:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 445:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 446:
DROP DATASOURCE TABLE ft_test2;
--Testcase 447:
DROP FOREIGN TABLE ft_test2;
--Testcase 448:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 449:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 450:
DROP DATASOURCE TABLE ft_test3;
--Testcase 451:
DROP FOREIGN TABLE ft_test3;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud1'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.959
INFO:  compression ratio: 1.965
INFO:  compression ratio: 1.964
--Testcase 452:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__griddb1__0 | foreign table | vagrant
 public | ft2__griddb2__0 | foreign table | vagrant
 public | ft2__griddb3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 453:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 690:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   | __spd_url 
----+----+----+----+----+----+---------------------+-------+-----------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001 | /griddb1/
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002 | /griddb2/
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003 | /griddb3/
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004 | /griddb1/
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005 | /griddb2/
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006 | /griddb3/
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007 | /griddb1/
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008 | /griddb2/
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009 | /griddb3/
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010 | /griddb1/
(10 rows)

--Testcase 454:
SELECT * FROM ft2__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 455:
SELECT * FROM ft2__griddb2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 456:
SELECT * FROM ft2__griddb3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 457:
DROP DATASOURCE TABLE ft2__griddb1__0;
--Testcase 458:
DROP DATASOURCE TABLE ft2__griddb2__0;
--Testcase 459:
DROP DATASOURCE TABLE ft2__griddb3__0;
--Testcase 460:
DROP FOREIGN TABLE ft2__griddb1__0;
--Testcase 461:
DROP FOREIGN TABLE ft2__griddb2__0;
--Testcase 462:
DROP FOREIGN TABLE ft2__griddb3__0;
--Testcase 463:
DROP FOREIGN TABLE ft2;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud1'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.959
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.965
--Testcase 464:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__griddb1__0 | foreign table | vagrant
 public | ft1__griddb2__0 | foreign table | vagrant
 public | ft1__griddb3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 465:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 691:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   | __spd_url 
----+----+----+----+----+----+---------------------+-------+-----------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001 | /griddb1/
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002 | /griddb2/
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003 | /griddb3/
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004 | /griddb1/
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005 | /griddb2/
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006 | /griddb3/
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007 | /griddb1/
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008 | /griddb2/
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009 | /griddb3/
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010 | /griddb1/
(10 rows)

--Testcase 466:
SELECT * FROM ft1__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 467:
SELECT * FROM ft1__griddb2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 468:
SELECT * FROM ft1__griddb3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 469:
DROP DATASOURCE TABLE ft1__griddb1__0;
--Testcase 470:
DROP DATASOURCE TABLE ft1__griddb2__0;
--Testcase 471:
DROP DATASOURCE TABLE ft1__griddb3__0;
--Testcase 472:
DROP FOREIGN TABLE ft1__griddb1__0;
--Testcase 473:
DROP FOREIGN TABLE ft1__griddb2__0;
--Testcase 474:
DROP FOREIGN TABLE ft1__griddb3__0;
--Testcase 475:
DROP FOREIGN TABLE ft1;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
-- create again src table
--Testcase 476:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud2'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 1.868
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.874
INFO:  compression ratio: 1.871
INFO:  compression ratio: 1.846
INFO:  compression ratio: 1.868
INFO:  compression ratio: 1.863
INFO:  compression ratio: 1.931
INFO:  compression ratio: 1.841
--Testcase 477:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 478:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb1 OPTIONS (table_name 't1');
--Testcase 479:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb2 OPTIONS (table_name 't2');
--Testcase 480:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb3 OPTIONS (table_name 't3');
-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 481:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 482:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 483:
DROP DATASOURCE TABLE ft_test1;
--Testcase 484:
DROP FOREIGN TABLE ft_test1;
--Testcase 485:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 486:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 487:
DROP DATASOURCE TABLE ft_test2;
--Testcase 488:
DROP FOREIGN TABLE ft_test2;
--Testcase 489:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 490:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 491:
DROP DATASOURCE TABLE ft_test3;
--Testcase 492:
DROP FOREIGN TABLE ft_test3;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud2'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud2');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 1.960
INFO:  compression ratio: 1.964
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.923
INFO:  compression ratio: 1.931
--Testcase 493:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__griddb1__0 | foreign table | vagrant
 public | ft2__griddb2__0 | foreign table | vagrant
 public | ft2__griddb3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 494:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 692:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   | __spd_url 
----+----+----+----+----+----+---------------------+-------+-----------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001 | /griddb1/
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002 | /griddb2/
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003 | /griddb3/
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004 | /griddb1/
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005 | /griddb2/
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006 | /griddb3/
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007 | /griddb1/
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008 | /griddb2/
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009 | /griddb3/
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010 | /griddb1/
(10 rows)

--Testcase 495:
SELECT * FROM ft2__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 496:
SELECT * FROM ft2__griddb2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 497:
SELECT * FROM ft2__griddb3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 498:
DROP DATASOURCE TABLE ft2__griddb1__0;
--Testcase 499:
DROP DATASOURCE TABLE ft2__griddb2__0;
--Testcase 500:
DROP DATASOURCE TABLE ft2__griddb3__0;
--Testcase 501:
DROP FOREIGN TABLE ft2__griddb1__0;
--Testcase 502:
DROP FOREIGN TABLE ft2__griddb2__0;
--Testcase 503:
DROP FOREIGN TABLE ft2__griddb3__0;
--Testcase 504:
DROP FOREIGN TABLE ft2;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        griddb1 OPTIONS (table_name 't1', relay 'cloud1'),
        griddb2 OPTIONS (table_name 't2', relay 'cloud2'),
        griddb3 OPTIONS (table_name 't3', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 1.868
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.964
INFO:  compression ratio: 1.874
INFO:  compression ratio: 1.871
INFO:  compression ratio: 1.846
INFO:  compression ratio: 1.868
INFO:  compression ratio: 1.931
INFO:  compression ratio: 1.863
INFO:  compression ratio: 1.841
--Testcase 505:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__griddb1__0 | foreign table | vagrant
 public | ft1__griddb2__0 | foreign table | vagrant
 public | ft1__griddb3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
ALTER SERVER griddb2 OPTIONS (drop host);
ALTER SERVER griddb2 OPTIONS (drop port);
ALTER SERVER griddb2 OPTIONS (add notification_member '127.0.0.1:10003');
ALTER SERVER griddb3 OPTIONS (drop host);
ALTER SERVER griddb3 OPTIONS (drop port);
ALTER SERVER griddb3 OPTIONS (add notification_member '127.0.0.1:10004');
--Testcase 506:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 693:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   | __spd_url 
----+----+----+----+----+----+---------------------+-------+-----------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001 | /griddb1/
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002 | /griddb2/
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003 | /griddb3/
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004 | /griddb1/
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005 | /griddb2/
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006 | /griddb3/
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007 | /griddb1/
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008 | /griddb2/
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009 | /griddb3/
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010 | /griddb1/
(10 rows)

--Testcase 507:
SELECT * FROM ft1__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-03 00:00:00 | 00001
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00004
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-09 00:00:00 | 00007
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00010
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-15 00:00:00 | 00013
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00016
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-21 00:00:00 | 00019
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00022
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-27 00:00:00 | 00025
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00028
(10 rows)

--Testcase 508:
SELECT * FROM ft1__griddb2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00002
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-07 00:00:00 | 00005
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00008
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-13 00:00:00 | 00011
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00014
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-19 00:00:00 | 00017
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00020
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-25 00:00:00 | 00023
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00026
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-31 00:00:00 | 00029
(10 rows)

--Testcase 509:
SELECT * FROM ft1__griddb3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-05 00:00:00 | 00003
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00006
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-11 00:00:00 | 00009
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00012
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-17 00:00:00 | 00015
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00018
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-23 00:00:00 | 00021
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00024
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-29 00:00:00 | 00027
 30 | 30 | 30 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00030
(10 rows)

--Testcase 510:
DROP DATASOURCE TABLE ft1__griddb1__0;
--Testcase 511:
DROP DATASOURCE TABLE ft1__griddb2__0;
--Testcase 512:
DROP DATASOURCE TABLE ft1__griddb3__0;
--Testcase 513:
DROP FOREIGN TABLE ft1__griddb1__0;
--Testcase 514:
DROP FOREIGN TABLE ft1__griddb2__0;
--Testcase 515:
DROP FOREIGN TABLE ft1__griddb3__0;
--Testcase 516:
DROP FOREIGN TABLE ft1;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
ALTER SERVER griddb2 OPTIONS (drop notification_member);
ALTER SERVER griddb2 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb2 OPTIONS (add port '20003');
ALTER SERVER griddb3 OPTIONS (drop notification_member);
ALTER SERVER griddb3 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb3 OPTIONS (add port '20004');
--Testcase 517:
DROP TABLE t1;
-- ===================================================================
-- TO ORACLE SERVER
-- ===================================================================
--Testcase 518:
CREATE FOREIGN TABLE ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 519:
CREATE DATASOURCE TABLE ft1;
--Testcase 520:
INSERT INTO t1
	 SELECT id,
	        id % 1000,
		id % 100,
		id / 110,
		id / 2,
		id * 3,
		'1970-01-01'::date + ((id % 100) || ' days')::interval,
		'1970-01-01'::timestamp + ((id % 100) || ' days')::interval,
	        '1970-01-01'::timestamptz + ((id % 100) || ' days')::interval,
	        'ora' || id,
	        to_char(id, 'FM00000'),
	        'foo',
		'\x151354865131651321'
	FROM generate_series(1, 20000) id;
--Testcase 521:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 522:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 523:
CREATE SERVER oracle1 FOREIGN DATA WRAPPER oracle_fdw OPTIONS (dbserver 'localhost:1521/XE', isolation_level 'read_committed', nchar 'true');
--Testcase 524:
CREATE SERVER oracle2 FOREIGN DATA WRAPPER oracle_fdw OPTIONS (dbserver 'localhost:1521/XE', isolation_level 'read_committed', nchar 'true');
--Testcase 525:
CREATE SERVER oracle3 FOREIGN DATA WRAPPER oracle_fdw OPTIONS (dbserver 'localhost:1521/XE', isolation_level 'read_committed', nchar 'true');
--Testcase 526:
CREATE USER MAPPING FOR public SERVER oracle1 OPTIONS (user 'test1', password 'test1');
--Testcase 527:
CREATE USER MAPPING FOR public SERVER oracle2 OPTIONS (user 'test2', password 'test2');
--Testcase 528:
CREATE USER MAPPING FOR public SERVER oracle3 OPTIONS (user 'test3', password 'test3');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER oracle1 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 529:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 530:
CREATE foreign table ft_test (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle1 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 531:
SELECT count(*) FROM ft_test;
 count 
-------
 20000
(1 row)

--Testcase 532:
SELECT * FROM ft_test ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 533:
DROP DATASOURCE TABLE ft_test;
--Testcase 534:
DROP FOREIGN TABLE ft_test;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER oracle1 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 535:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
--Testcase 536:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 537:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 538:
DROP DATASOURCE TABLE ft2;
--Testcase 539:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER oracle1 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 540:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
--Testcase 541:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 542:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 543:
DROP DATASOURCE TABLE ft1;
--Testcase 544:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 545:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud1'),
        oracle3 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.689
INFO:  compression ratio: 2.687
INFO:  compression ratio: 2.688
--Testcase 546:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 547:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle1 OPTIONS (table 'T2');
--Testcase 548:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle2 OPTIONS (table 'T2');
--Testcase 549:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle3 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 550:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 551:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 552:
DROP DATASOURCE TABLE ft_test1;
--Testcase 553:
DROP FOREIGN TABLE ft_test1;
--Testcase 554:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 555:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 556:
DROP DATASOURCE TABLE ft_test2;
--Testcase 557:
DROP FOREIGN TABLE ft_test2;
--Testcase 558:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 559:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 560:
DROP DATASOURCE TABLE ft_test3;
--Testcase 561:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud1'),
        oracle3 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.689
INFO:  compression ratio: 2.687
INFO:  compression ratio: 2.688
--Testcase 562:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__oracle1__0 | foreign table | vagrant
 public | ft2__oracle2__0 | foreign table | vagrant
 public | ft2__oracle3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 563:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 564:
SELECT * FROM ft2__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 565:
SELECT * FROM ft2__oracle2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 566:
SELECT * FROM ft2__oracle3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 567:
DROP DATASOURCE TABLE ft2__oracle1__0;
--Testcase 568:
DROP DATASOURCE TABLE ft2__oracle2__0;
--Testcase 569:
DROP DATASOURCE TABLE ft2__oracle3__0;
--Testcase 570:
DROP FOREIGN TABLE ft2__oracle1__0;
--Testcase 571:
DROP FOREIGN TABLE ft2__oracle2__0;
--Testcase 572:
DROP FOREIGN TABLE ft2__oracle3__0;
--Testcase 573:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud1'),
        oracle3 OPTIONS (table 'T2', relay 'cloud1');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.687
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.689
--Testcase 574:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__oracle1__0 | foreign table | vagrant
 public | ft1__oracle2__0 | foreign table | vagrant
 public | ft1__oracle3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 575:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 576:
SELECT * FROM ft1__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 577:
SELECT * FROM ft1__oracle2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 578:
SELECT * FROM ft1__oracle3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 579:
DROP DATASOURCE TABLE ft1__oracle1__0;
--Testcase 580:
DROP DATASOURCE TABLE ft1__oracle2__0;
--Testcase 581:
DROP DATASOURCE TABLE ft1__oracle3__0;
--Testcase 582:
DROP FOREIGN TABLE ft1__oracle1__0;
--Testcase 583:
DROP FOREIGN TABLE ft1__oracle2__0;
--Testcase 584:
DROP FOREIGN TABLE ft1__oracle3__0;
--Testcase 585:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 586:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud2'),
        oracle3 OPTIONS (table 'T2', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 2.838
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.890
INFO:  compression ratio: 2.903
INFO:  compression ratio: 2.871
INFO:  compression ratio: 2.753
INFO:  compression ratio: 2.666
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.686
INFO:  compression ratio: 2.678
INFO:  compression ratio: 2.604
--Testcase 587:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 588:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle1 OPTIONS (table 'T2');
--Testcase 589:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle2 OPTIONS (table 'T2');
--Testcase 590:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8,
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER oracle3 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 591:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 592:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 593:
DROP DATASOURCE TABLE ft_test1;
--Testcase 594:
DROP FOREIGN TABLE ft_test1;
--Testcase 595:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 596:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 597:
DROP DATASOURCE TABLE ft_test2;
--Testcase 598:
DROP FOREIGN TABLE ft_test2;
--Testcase 599:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 600:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 601:
DROP DATASOURCE TABLE ft_test3;
--Testcase 602:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud2'),
        oracle3 OPTIONS (table 'T2', relay 'cloud2');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.890
INFO:  compression ratio: 2.886
INFO:  compression ratio: 2.686
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.690
--Testcase 603:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__oracle1__0 | foreign table | vagrant
 public | ft2__oracle2__0 | foreign table | vagrant
 public | ft2__oracle3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 604:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 605:
SELECT * FROM ft2__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 606:
SELECT * FROM ft2__oracle2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 607:
SELECT * FROM ft2__oracle3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 608:
DROP DATASOURCE TABLE ft2__oracle1__0;
--Testcase 609:
DROP DATASOURCE TABLE ft2__oracle2__0;
--Testcase 610:
DROP DATASOURCE TABLE ft2__oracle3__0;
--Testcase 611:
DROP FOREIGN TABLE ft2__oracle1__0;
--Testcase 612:
DROP FOREIGN TABLE ft2__oracle2__0;
--Testcase 613:
DROP FOREIGN TABLE ft2__oracle3__0;
--Testcase 614:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        oracle1 OPTIONS (table 'T2', relay 'cloud1'),
        oracle2 OPTIONS (table 'T2', relay 'cloud2'),
        oracle3 OPTIONS (table 'T2', relay 'cloud3');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.838
INFO:  compression ratio: 2.890
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.903
INFO:  compression ratio: 2.871
INFO:  compression ratio: 2.753
INFO:  compression ratio: 2.666
INFO:  compression ratio: 2.678
INFO:  compression ratio: 2.686
INFO:  compression ratio: 2.604
INFO:  compression ratio: 2.688
--Testcase 615:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__oracle1__0 | foreign table | vagrant
 public | ft1__oracle2__0 | foreign table | vagrant
 public | ft1__oracle3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 616:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 617:
SELECT * FROM ft1__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 618:
SELECT * FROM ft1__oracle2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 619:
SELECT * FROM ft1__oracle3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 620:
DROP DATASOURCE TABLE ft1__oracle1__0;
--Testcase 621:
DROP DATASOURCE TABLE ft1__oracle2__0;
--Testcase 622:
DROP DATASOURCE TABLE ft1__oracle3__0;
--Testcase 623:
DROP FOREIGN TABLE ft1__oracle1__0;
--Testcase 624:
DROP FOREIGN TABLE ft1__oracle2__0;
--Testcase 625:
DROP FOREIGN TABLE ft1__oracle3__0;
--Testcase 626:
DROP FOREIGN TABLE ft1;
--Testcase 627:
DROP TABLE t1;
-- ===================================================================
-- TO INFLUXDB SERVER
-- ===================================================================
--Testcase 691:
CREATE FOREIGN TABLE ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 692:
CREATE DATASOURCE TABLE ft1;
--Testcase 693:
INSERT INTO t1
	 SELECT id,
	        id % 1000,
		id % 100,
		id / 110,
		id / 2,
		id * 3,
		'1970-01-01'::date + ((id % 100) || ' days')::interval,
		'1970-01-01'::timestamp + ((id % 100) || ' days')::interval,
	        '1970-01-01'::timestamptz + ((id % 100) || ' days')::interval,
	        'ora' || id,
	        to_char(id, 'FM00000'),
	        'foo',
		'\x151354865131651321'
	FROM generate_series(1, 20000) id;
--Testcase 694:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 695:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 696:
CREATE SERVER influx1 FOREIGN DATA WRAPPER influxdb_fdw OPTIONS (host 'http://localhost', port '38086', dbname 'test1', version '2', retention_policy '');
--Testcase 697:
CREATE SERVER influx2 FOREIGN DATA WRAPPER influxdb_fdw OPTIONS (host 'http://localhost', port '38086', dbname 'test2', version '2', retention_policy '');
--Testcase 698:
CREATE SERVER influx3 FOREIGN DATA WRAPPER influxdb_fdw OPTIONS (host 'http://localhost', port '38086', dbname 'test3', version '2', retention_policy '');
--Testcase 699:
CREATE USER MAPPING FOR public SERVER influx1 OPTIONS (auth_token 'mytoken');
--Testcase 700:
CREATE USER MAPPING FOR public SERVER influx2 OPTIONS (auth_token 'mytoken');
--Testcase 701:
CREATE USER MAPPING FOR public SERVER influx3 OPTIONS (auth_token 'mytoken');
-- * migrate sigle target server and single relay server
-- MIGRATE NONE
--Testcase 702:
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 703:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 704:
CREATE foreign table ft_test (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx1 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 705:
SELECT count(*) FROM ft_test;
 count 
-------
 20000
(1 row)

--Testcase 706:
SELECT * FROM ft_test ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 707:
DROP DATASOURCE TABLE ft_test;
--Testcase 708:
DROP FOREIGN TABLE ft_test; 
-- MIGRATE TO
--Testcase 709:
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 710:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | ft2  | foreign table | vagrant
 public | t1   | table         | vagrant
(3 rows)

-- Check data for first 10 records and number of records
--Testcase 711:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 710:
SELECT * FROM ft2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 712:
DROP DATASOURCE TABLE ft2;
--Testcase 713:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
--Testcase 714:
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 3.063
INFO:  compression ratio: 3.110
INFO:  compression ratio: 3.025
INFO:  compression ratio: 3.001
--Testcase 715:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- Check data for first 10 records and number of records
--Testcase 716:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 717:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
(10 rows)

--Testcase 718:
DROP DATASOURCE TABLE ft1;
--Testcase 719:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 720:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and single relay server
-- MIGRATE NONE
--Testcase 721:
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER 
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.687
INFO:  compression ratio: 2.689
INFO:  compression ratio: 2.688
--Testcase 722:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 723:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx1 OPTIONS (table 'T2');
--Testcase 724:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx2 OPTIONS (table 'T2');
--Testcase 725:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx3 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 726:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 727:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 728:
DROP DATASOURCE TABLE ft_test1;
--Testcase 729:
DROP FOREIGN TABLE ft_test1;
--Testcase 730:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 731:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 732:
DROP DATASOURCE TABLE ft_test2;
--Testcase 733:
DROP FOREIGN TABLE ft_test2;
--Testcase 734:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 735:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 736:
DROP DATASOURCE TABLE ft_test3;
--Testcase 737:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
--Testcase 738:
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER 
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.689
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.687
--Testcase 739:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__influx1__0 | foreign table | vagrant
 public | ft2__influx2__0 | foreign table | vagrant
 public | ft2__influx3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 740:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 741:
SELECT * FROM ft2__influx1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 742:
SELECT * FROM ft2__influx2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 743:
SELECT * FROM ft2__influx3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 744:
DROP DATASOURCE TABLE ft2__influx1__0;
--Testcase 745:
DROP DATASOURCE TABLE ft2__influx2__0;
--Testcase 746:
DROP DATASOURCE TABLE ft2__influx3__0;
--Testcase 747:
DROP FOREIGN TABLE ft2__influx1__0;
--Testcase 748:
DROP FOREIGN TABLE ft2__influx2__0;
--Testcase 749:
DROP FOREIGN TABLE ft2__influx3__0;
--Testcase 750:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
--Testcase 751:
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.885
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.888
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.689
INFO:  compression ratio: 2.687
--Testcase 752:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__influx1__0 | foreign table | vagrant
 public | ft1__influx2__0 | foreign table | vagrant
 public | ft1__influx3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 753:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 754:
SELECT * FROM ft1__influx1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 755:
SELECT * FROM ft1__influx2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 756:
SELECT * FROM ft1__influx3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 757:
DROP DATASOURCE TABLE ft1__influx1__0;
--Testcase 758:
DROP DATASOURCE TABLE ft1__influx2__0;
--Testcase 759:
DROP DATASOURCE TABLE ft1__influx3__0;
--Testcase 760:
DROP FOREIGN TABLE ft1__influx1__0;
--Testcase 761:
DROP FOREIGN TABLE ft1__influx2__0;
--Testcase 762:
DROP FOREIGN TABLE ft1__influx3__0;
--Testcase 763:
DROP FOREIGN TABLE ft1;
-- create again src table
--Testcase 764:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER loopback OPTIONS (table_name 't1');
-- * migrate multi target server and multi relay server
-- MIGRATE NONE
--Testcase 765:
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud2', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud3', org 'myorg');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 2.838
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.890
INFO:  compression ratio: 2.903
INFO:  compression ratio: 2.871
INFO:  compression ratio: 2.753
INFO:  compression ratio: 2.666
INFO:  compression ratio: 2.678
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.686
INFO:  compression ratio: 2.604
--Testcase 766:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 767:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx1 OPTIONS (table 'T2');
--Testcase 768:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx2 OPTIONS (table 'T2');
--Testcase 769:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint, c4 float4, c5 float8, 
    c6 numeric, c7 date, c8 timestamp, c9 timestamptz, c10 varchar(10), c11 text,
    c12 char(10), c13 bytea
)SERVER influx3 OPTIONS (table 'T2');
-- Check data for first 10 records and number of records
--Testcase 770:
SELECT count(*) FROM ft_test1;
 count 
-------
  6667
(1 row)

--Testcase 771:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 772:
DROP DATASOURCE TABLE ft_test1;
--Testcase 773:
DROP FOREIGN TABLE ft_test1;
--Testcase 774:
SELECT count(*) FROM ft_test2;
 count 
-------
  6667
(1 row)

--Testcase 775:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 776:
DROP DATASOURCE TABLE ft_test2;
--Testcase 777:
DROP FOREIGN TABLE ft_test2;
--Testcase 778:
SELECT count(*) FROM ft_test3;
 count 
-------
  6666
(1 row)

--Testcase 779:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 780:
DROP DATASOURCE TABLE ft_test3;
--Testcase 781:
DROP FOREIGN TABLE ft_test3;
-- MIGRATE TO
--Testcase 782:
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud2', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud3', org 'myorg');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  compression ratio: 2.838
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.890
INFO:  compression ratio: 2.882
INFO:  compression ratio: 2.903
INFO:  compression ratio: 2.871
INFO:  compression ratio: 2.753
INFO:  compression ratio: 2.666
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.686
INFO:  compression ratio: 2.678
INFO:  compression ratio: 2.604
--Testcase 783:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft2             | foreign table | vagrant
 public | ft2__influx1__0 | foreign table | vagrant
 public | ft2__influx2__0 | foreign table | vagrant
 public | ft2__influx3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(6 rows)

-- Check data for first 10 records and number of records
--Testcase 784:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 785:
SELECT * FROM ft2__influx1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 786:
SELECT * FROM ft2__influx2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 787:
SELECT * FROM ft2__influx3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 788:
DROP DATASOURCE TABLE ft2__influx1__0;
--Testcase 789:
DROP DATASOURCE TABLE ft2__influx2__0;
--Testcase 790:
DROP DATASOURCE TABLE ft2__influx3__0;
--Testcase 791:
DROP FOREIGN TABLE ft2__influx1__0;
--Testcase 792:
DROP FOREIGN TABLE ft2__influx2__0;
--Testcase 793:
DROP FOREIGN TABLE ft2__influx3__0;
--Testcase 794:
DROP FOREIGN TABLE ft2;
-- MIGRATE REPLACE
--Testcase 795:
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER 
        influx1 OPTIONS (table 'T2', relay 'cloud1', org 'myorg'),
        influx2 OPTIONS (table 'T2', relay 'cloud2', org 'myorg'), 
        influx3 OPTIONS (table 'T2', relay 'cloud3', org 'myorg');
WARNING:  Can not calculate suitable batch size, using the default batch size
INFO:  Batch Insert for pgspider_fdw, batch size = 5041
INFO:  Batch Insert for pgspider_fdw, batch size = 1000
INFO:  compression ratio: 2.838
INFO:  compression ratio: 2.882
INFO:  Batch Insert for pgspider_fdw, batch size = 5000
INFO:  compression ratio: 2.890
INFO:  compression ratio: 2.903
INFO:  compression ratio: 2.871
INFO:  compression ratio: 2.753
INFO:  compression ratio: 2.666
INFO:  compression ratio: 2.678
INFO:  compression ratio: 2.688
INFO:  compression ratio: 2.604
INFO:  compression ratio: 2.686
--Testcase 796:
\d
                 List of relations
 Schema |      Name       |     Type      |  Owner  
--------+-----------------+---------------+---------
 public | ft1             | foreign table | vagrant
 public | ft1__influx1__0 | foreign table | vagrant
 public | ft1__influx2__0 | foreign table | vagrant
 public | ft1__influx3__0 | foreign table | vagrant
 public | t1              | table         | vagrant
(5 rows)

-- Check data for first 10 records and number of records
--Testcase 797:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 798:
SELECT * FROM ft1__influx1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  1 |  1 |  1 |  0 |  0 |  3 | 1970-01-02 | 1970-01-02 00:00:00 | 1970-01-02 00:00:00-08 | ora1  | 00001 | foo        | \x151354865131651321
  4 |  4 |  4 |  0 |  2 | 12 | 1970-01-05 | 1970-01-05 00:00:00 | 1970-01-05 00:00:00-08 | ora4  | 00004 | foo        | \x151354865131651321
  7 |  7 |  7 |  0 |  3 | 21 | 1970-01-08 | 1970-01-08 00:00:00 | 1970-01-08 00:00:00-08 | ora7  | 00007 | foo        | \x151354865131651321
 10 | 10 | 10 |  0 |  5 | 30 | 1970-01-11 | 1970-01-11 00:00:00 | 1970-01-11 00:00:00-08 | ora10 | 00010 | foo        | \x151354865131651321
 13 | 13 | 13 |  0 |  6 | 39 | 1970-01-14 | 1970-01-14 00:00:00 | 1970-01-14 00:00:00-08 | ora13 | 00013 | foo        | \x151354865131651321
 16 | 16 | 16 |  0 |  8 | 48 | 1970-01-17 | 1970-01-17 00:00:00 | 1970-01-17 00:00:00-08 | ora16 | 00016 | foo        | \x151354865131651321
 19 | 19 | 19 |  0 |  9 | 57 | 1970-01-20 | 1970-01-20 00:00:00 | 1970-01-20 00:00:00-08 | ora19 | 00019 | foo        | \x151354865131651321
 22 | 22 | 22 |  0 | 11 | 66 | 1970-01-23 | 1970-01-23 00:00:00 | 1970-01-23 00:00:00-08 | ora22 | 00022 | foo        | \x151354865131651321
 25 | 25 | 25 |  0 | 12 | 75 | 1970-01-26 | 1970-01-26 00:00:00 | 1970-01-26 00:00:00-08 | ora25 | 00025 | foo        | \x151354865131651321
 28 | 28 | 28 |  0 | 14 | 84 | 1970-01-29 | 1970-01-29 00:00:00 | 1970-01-29 00:00:00-08 | ora28 | 00028 | foo        | \x151354865131651321
(10 rows)

--Testcase 799:
SELECT * FROM ft1__influx2__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  2 |  2 |  2 |  0 |  1 |  6 | 1970-01-03 | 1970-01-03 00:00:00 | 1970-01-03 00:00:00-08 | ora2  | 00002 | foo        | \x151354865131651321
  5 |  5 |  5 |  0 |  2 | 15 | 1970-01-06 | 1970-01-06 00:00:00 | 1970-01-06 00:00:00-08 | ora5  | 00005 | foo        | \x151354865131651321
  8 |  8 |  8 |  0 |  4 | 24 | 1970-01-09 | 1970-01-09 00:00:00 | 1970-01-09 00:00:00-08 | ora8  | 00008 | foo        | \x151354865131651321
 11 | 11 | 11 |  0 |  5 | 33 | 1970-01-12 | 1970-01-12 00:00:00 | 1970-01-12 00:00:00-08 | ora11 | 00011 | foo        | \x151354865131651321
 14 | 14 | 14 |  0 |  7 | 42 | 1970-01-15 | 1970-01-15 00:00:00 | 1970-01-15 00:00:00-08 | ora14 | 00014 | foo        | \x151354865131651321
 17 | 17 | 17 |  0 |  8 | 51 | 1970-01-18 | 1970-01-18 00:00:00 | 1970-01-18 00:00:00-08 | ora17 | 00017 | foo        | \x151354865131651321
 20 | 20 | 20 |  0 | 10 | 60 | 1970-01-21 | 1970-01-21 00:00:00 | 1970-01-21 00:00:00-08 | ora20 | 00020 | foo        | \x151354865131651321
 23 | 23 | 23 |  0 | 11 | 69 | 1970-01-24 | 1970-01-24 00:00:00 | 1970-01-24 00:00:00-08 | ora23 | 00023 | foo        | \x151354865131651321
 26 | 26 | 26 |  0 | 13 | 78 | 1970-01-27 | 1970-01-27 00:00:00 | 1970-01-27 00:00:00-08 | ora26 | 00026 | foo        | \x151354865131651321
 29 | 29 | 29 |  0 | 14 | 87 | 1970-01-30 | 1970-01-30 00:00:00 | 1970-01-30 00:00:00-08 | ora29 | 00029 | foo        | \x151354865131651321
(10 rows)

--Testcase 800:
SELECT * FROM ft1__influx3__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |     c7     |         c8          |           c9           |  c10  |  c11  |    c12     |         c13          
----+----+----+----+----+----+------------+---------------------+------------------------+-------+-------+------------+----------------------
  3 |  3 |  3 |  0 |  1 |  9 | 1970-01-04 | 1970-01-04 00:00:00 | 1970-01-04 00:00:00-08 | ora3  | 00003 | foo        | \x151354865131651321
  6 |  6 |  6 |  0 |  3 | 18 | 1970-01-07 | 1970-01-07 00:00:00 | 1970-01-07 00:00:00-08 | ora6  | 00006 | foo        | \x151354865131651321
  9 |  9 |  9 |  0 |  4 | 27 | 1970-01-10 | 1970-01-10 00:00:00 | 1970-01-10 00:00:00-08 | ora9  | 00009 | foo        | \x151354865131651321
 12 | 12 | 12 |  0 |  6 | 36 | 1970-01-13 | 1970-01-13 00:00:00 | 1970-01-13 00:00:00-08 | ora12 | 00012 | foo        | \x151354865131651321
 15 | 15 | 15 |  0 |  7 | 45 | 1970-01-16 | 1970-01-16 00:00:00 | 1970-01-16 00:00:00-08 | ora15 | 00015 | foo        | \x151354865131651321
 18 | 18 | 18 |  0 |  9 | 54 | 1970-01-19 | 1970-01-19 00:00:00 | 1970-01-19 00:00:00-08 | ora18 | 00018 | foo        | \x151354865131651321
 21 | 21 | 21 |  0 | 10 | 63 | 1970-01-22 | 1970-01-22 00:00:00 | 1970-01-22 00:00:00-08 | ora21 | 00021 | foo        | \x151354865131651321
 24 | 24 | 24 |  0 | 12 | 72 | 1970-01-25 | 1970-01-25 00:00:00 | 1970-01-25 00:00:00-08 | ora24 | 00024 | foo        | \x151354865131651321
 27 | 27 | 27 |  0 | 13 | 81 | 1970-01-28 | 1970-01-28 00:00:00 | 1970-01-28 00:00:00-08 | ora27 | 00027 | foo        | \x151354865131651321
 30 | 30 | 30 |  0 | 15 | 90 | 1970-01-31 | 1970-01-31 00:00:00 | 1970-01-31 00:00:00-08 | ora30 | 00030 | foo        | \x151354865131651321
(10 rows)

--Testcase 801:
DROP DATASOURCE TABLE ft1__influx1__0;
--Testcase 802:
DROP DATASOURCE TABLE ft1__influx2__0;
--Testcase 803:
DROP DATASOURCE TABLE ft1__influx3__0;
--Testcase 804:
DROP FOREIGN TABLE ft1__influx1__0;
--Testcase 805:
DROP FOREIGN TABLE ft1__influx2__0;
--Testcase 806:
DROP FOREIGN TABLE ft1__influx3__0;
--Testcase 807:
DROP FOREIGN TABLE ft1;
--Testcase 816:
DROP TABLE t1;
-- ===================================================================
-- TO DIFERENCE TARGET SERVER
-- ===================================================================
--Testcase 628:
CREATE foreign table ft1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER loopback OPTIONS (table_name 't1');
--Testcase 629:
CREATE DATASOURCE TABLE ft1;
--Testcase 630:
INSERT INTO t1
	SELECT id,
	       id % 1000,
		   id % 100,
		   id / 110,
		   id / 2,
		   true,
		   '1970-01-01'::timestamp + ((id % 100) || ' days')::interval,
	           to_char(id, 'FM00000')
        FROM generate_series(1, 20000) id;
--Testcase 631:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 632:
SELECT * FROM ft1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-02 00:00:00 | 00001
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-03 00:00:00 | 00002
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00003
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-05 00:00:00 | 00004
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00005
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-07 00:00:00 | 00006
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00007
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-09 00:00:00 | 00008
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00009
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-11 00:00:00 | 00010
(10 rows)

-- MIGRATE NONE
MIGRATE TABLE ft1 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'multi', relay 'cloud1'),
        pgspider1 OPTIONS (table_name 'multi1', relay 'cloud1'),
        mysql1 OPTIONS (dbname 'test1', table_name 'multi', relay 'cloud1'),
        griddb1 OPTIONS (table_name 'multi', relay 'cloud1'),
        oracle1 OPTIONS (table 'multi', relay 'cloud1'),
        influx1 OPTIONS (table 'multi', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.050
INFO:  compression ratio: 2.061
INFO:  compression ratio: 2.058
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.057
INFO:  compression ratio: 2.055
INFO:  compression ratio: 2.054
--Testcase 633:
\d
            List of relations
 Schema | Name |     Type      |  Owner  
--------+------+---------------+---------
 public | ft1  | foreign table | vagrant
 public | t1   | table         | vagrant
(2 rows)

-- create foreign table to check new datasource
--Testcase 634:
CREATE foreign table ft_test1 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER postgres1 OPTIONS (table_name 'multi');
--Testcase 635:
CREATE foreign table ft_test2 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER pgspider1 OPTIONS (table_name 'multi1');
--Testcase 636:
CREATE foreign table ft_test3 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER mysql1 OPTIONS (dbname 'test1', table_name 'multi');
--Testcase 637:
CREATE foreign table ft_test4 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER griddb1 OPTIONS (table_name 'multi');
--Testcase 638:
CREATE foreign table ft_test5 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER oracle1 OPTIONS (table 'multi');
--Testcase 808:
CREATE foreign table ft_test6 (c1 bigint, c2 int, c3 smallint,
    c4 float4, c5 float8, c6 bool, c7 timestamp, c8 text
)SERVER influx1 OPTIONS (table 'multi');
-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 639:
SELECT count(*) FROM ft_test1;
 count 
-------
  3334
(1 row)

--Testcase 640:
SELECT * FROM ft_test1 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-02 00:00:00 | 00001
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00007
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00013
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00019
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00025
 31 | 31 | 31 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00031
 37 | 37 | 37 |  0 | 18 | t  | 1970-02-07 00:00:00 | 00037
 43 | 43 | 43 |  0 | 21 | t  | 1970-02-13 00:00:00 | 00043
 49 | 49 | 49 |  0 | 24 | t  | 1970-02-19 00:00:00 | 00049
 55 | 55 | 55 |  0 | 27 | t  | 1970-02-25 00:00:00 | 00055
(10 rows)

--Testcase 641:
SELECT count(*) FROM ft_test2;
 count 
-------
  3334
(1 row)

--Testcase 642:
SELECT * FROM ft_test2 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-03 00:00:00 | 00002
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-09 00:00:00 | 00008
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-15 00:00:00 | 00014
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-21 00:00:00 | 00020
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-27 00:00:00 | 00026
 32 | 32 | 32 |  0 | 16 | t  | 1970-02-02 00:00:00 | 00032
 38 | 38 | 38 |  0 | 19 | t  | 1970-02-08 00:00:00 | 00038
 44 | 44 | 44 |  0 | 22 | t  | 1970-02-14 00:00:00 | 00044
 50 | 50 | 50 |  0 | 25 | t  | 1970-02-20 00:00:00 | 00050
 56 | 56 | 56 |  0 | 28 | t  | 1970-02-26 00:00:00 | 00056
(10 rows)

--Testcase 643:
SELECT count(*) FROM ft_test3;
 count 
-------
  3333
(1 row)

--Testcase 644:
SELECT * FROM ft_test3 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00003
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00009
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00015
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00021
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00027
 33 | 33 | 33 |  0 | 16 | t  | 1970-02-03 00:00:00 | 00033
 39 | 39 | 39 |  0 | 19 | t  | 1970-02-09 00:00:00 | 00039
 45 | 45 | 45 |  0 | 22 | t  | 1970-02-15 00:00:00 | 00045
 51 | 51 | 51 |  0 | 25 | t  | 1970-02-21 00:00:00 | 00051
 57 | 57 | 57 |  0 | 28 | t  | 1970-02-27 00:00:00 | 00057
(10 rows)

--Testcase 645:
SELECT count(*) FROM ft_test4;
 count 
-------
  3333
(1 row)

--Testcase 646:
SELECT * FROM ft_test4 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-05 00:00:00 | 00004
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-11 00:00:00 | 00010
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-17 00:00:00 | 00016
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-23 00:00:00 | 00022
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-29 00:00:00 | 00028
 34 | 34 | 34 |  0 | 17 | t  | 1970-02-04 00:00:00 | 00034
 40 | 40 | 40 |  0 | 20 | t  | 1970-02-10 00:00:00 | 00040
 46 | 46 | 46 |  0 | 23 | t  | 1970-02-16 00:00:00 | 00046
 52 | 52 | 52 |  0 | 26 | t  | 1970-02-22 00:00:00 | 00052
 58 | 58 | 58 |  0 | 29 | t  | 1970-02-28 00:00:00 | 00058
(10 rows)

--Testcase 647:
SELECT count(*) FROM ft_test5;
 count 
-------
  3333
(1 row)

--Testcase 648:
SELECT * FROM ft_test5 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00005
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00011
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00017
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00023
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00029
 35 | 35 | 35 |  0 | 17 | t  | 1970-02-05 00:00:00 | 00035
 41 | 41 | 41 |  0 | 20 | t  | 1970-02-11 00:00:00 | 00041
 47 | 47 | 47 |  0 | 23 | t  | 1970-02-17 00:00:00 | 00047
 53 | 53 | 53 |  0 | 26 | t  | 1970-02-23 00:00:00 | 00053
 59 | 59 | 59 |  0 | 29 | t  | 1970-03-01 00:00:00 | 00059
(10 rows)

--Testcase 809:
SELECT count(*) FROM ft_test6;
 count 
-------
  3333
(1 row)

--Testcase 810:
SELECT * FROM ft_test6 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-07 00:00:00 | 00006
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-13 00:00:00 | 00012
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-19 00:00:00 | 00018
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-25 00:00:00 | 00024
 30 | 30 | 30 |  0 | 15 | t  | 1970-01-31 00:00:00 | 00030
 36 | 36 | 36 |  0 | 18 | t  | 1970-02-06 00:00:00 | 00036
 42 | 42 | 42 |  0 | 21 | t  | 1970-02-12 00:00:00 | 00042
 48 | 48 | 48 |  0 | 24 | t  | 1970-02-18 00:00:00 | 00048
 54 | 54 | 54 |  0 | 27 | t  | 1970-02-24 00:00:00 | 00054
 60 | 60 | 60 |  0 | 30 | t  | 1970-03-02 00:00:00 | 00060
(10 rows)

--Testcase 649:
DROP DATASOURCE TABLE ft_test1;
--Testcase 650:
DROP DATASOURCE TABLE ft_test3;
--Testcase 651:
DROP DATASOURCE TABLE ft_test4;
--Testcase 652:
DROP DATASOURCE TABLE ft_test5;
--Testcase 811:
DROP DATASOURCE TABLE ft_test6;
--Testcase 653:
DROP FOREIGN TABLE ft_test1;
--Testcase 654:
DROP FOREIGN TABLE ft_test2;
--Testcase 655:
DROP FOREIGN TABLE ft_test3;
--Testcase 656:
DROP FOREIGN TABLE ft_test4;
--Testcase 657:
DROP FOREIGN TABLE ft_test5;
--Testcase 812:
DROP FOREIGN TABLE ft_test6;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
-- MIGRATE TO
MIGRATE TABLE ft1 TO ft2 OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'multi', relay 'cloud1'),
        pgspider1 OPTIONS (table_name 'multi2', relay 'cloud1'),
        mysql1 OPTIONS (dbname 'test1', table_name 'multi', relay 'cloud1'),
        griddb1 OPTIONS (table_name 'multi', relay 'cloud1'),
        oracle1 OPTIONS (table 'multi', relay 'cloud1'),
        influx1 OPTIONS (table 'multi', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.061
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.050
INFO:  compression ratio: 2.057
INFO:  compression ratio: 2.058
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.055
INFO:  compression ratio: 2.054
--Testcase 658:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft2               | foreign table | vagrant
 public | ft2__griddb1__0   | foreign table | vagrant
 public | ft2__influx1__0   | foreign table | vagrant
 public | ft2__mysql1__0    | foreign table | vagrant
 public | ft2__oracle1__0   | foreign table | vagrant
 public | ft2__pgspider1__0 | foreign table | vagrant
 public | ft2__postgres1__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(9 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 659:
SELECT count(*) FROM ft2;
 count 
-------
 20000
(1 row)

--Testcase 660:
SELECT * FROM ft2__postgres1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-02 00:00:00 | 00001
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00007
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00013
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00019
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00025
 31 | 31 | 31 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00031
 37 | 37 | 37 |  0 | 18 | t  | 1970-02-07 00:00:00 | 00037
 43 | 43 | 43 |  0 | 21 | t  | 1970-02-13 00:00:00 | 00043
 49 | 49 | 49 |  0 | 24 | t  | 1970-02-19 00:00:00 | 00049
 55 | 55 | 55 |  0 | 27 | t  | 1970-02-25 00:00:00 | 00055
(10 rows)

--Testcase 661:
SELECT * FROM ft2__pgspider1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-03 00:00:00 | 00002
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-09 00:00:00 | 00008
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-15 00:00:00 | 00014
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-21 00:00:00 | 00020
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-27 00:00:00 | 00026
 32 | 32 | 32 |  0 | 16 | t  | 1970-02-02 00:00:00 | 00032
 38 | 38 | 38 |  0 | 19 | t  | 1970-02-08 00:00:00 | 00038
 44 | 44 | 44 |  0 | 22 | t  | 1970-02-14 00:00:00 | 00044
 50 | 50 | 50 |  0 | 25 | t  | 1970-02-20 00:00:00 | 00050
 56 | 56 | 56 |  0 | 28 | t  | 1970-02-26 00:00:00 | 00056
(10 rows)

--Testcase 662:
SELECT * FROM ft2__mysql1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00003
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00009
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00015
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00021
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00027
 33 | 33 | 33 |  0 | 16 | t  | 1970-02-03 00:00:00 | 00033
 39 | 39 | 39 |  0 | 19 | t  | 1970-02-09 00:00:00 | 00039
 45 | 45 | 45 |  0 | 22 | t  | 1970-02-15 00:00:00 | 00045
 51 | 51 | 51 |  0 | 25 | t  | 1970-02-21 00:00:00 | 00051
 57 | 57 | 57 |  0 | 28 | t  | 1970-02-27 00:00:00 | 00057
(10 rows)

--Testcase 663:
SELECT * FROM ft2__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-05 00:00:00 | 00004
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-11 00:00:00 | 00010
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-17 00:00:00 | 00016
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-23 00:00:00 | 00022
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-29 00:00:00 | 00028
 34 | 34 | 34 |  0 | 17 | t  | 1970-02-04 00:00:00 | 00034
 40 | 40 | 40 |  0 | 20 | t  | 1970-02-10 00:00:00 | 00040
 46 | 46 | 46 |  0 | 23 | t  | 1970-02-16 00:00:00 | 00046
 52 | 52 | 52 |  0 | 26 | t  | 1970-02-22 00:00:00 | 00052
 58 | 58 | 58 |  0 | 29 | t  | 1970-02-28 00:00:00 | 00058
(10 rows)

--Testcase 664:
SELECT * FROM ft2__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00005
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00011
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00017
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00023
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00029
 35 | 35 | 35 |  0 | 17 | t  | 1970-02-05 00:00:00 | 00035
 41 | 41 | 41 |  0 | 20 | t  | 1970-02-11 00:00:00 | 00041
 47 | 47 | 47 |  0 | 23 | t  | 1970-02-17 00:00:00 | 00047
 53 | 53 | 53 |  0 | 26 | t  | 1970-02-23 00:00:00 | 00053
 59 | 59 | 59 |  0 | 29 | t  | 1970-03-01 00:00:00 | 00059
(10 rows)

--Testcase 813:
SELECT * FROM ft2__influx1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  6 |  6 |  6 |  0 |  3 | t  | 1970-01-07 00:00:00 | 00006
 12 | 12 | 12 |  0 |  6 | t  | 1970-01-13 00:00:00 | 00012
 18 | 18 | 18 |  0 |  9 | t  | 1970-01-19 00:00:00 | 00018
 24 | 24 | 24 |  0 | 12 | t  | 1970-01-25 00:00:00 | 00024
 30 | 30 | 30 |  0 | 15 | t  | 1970-01-31 00:00:00 | 00030
 36 | 36 | 36 |  0 | 18 | t  | 1970-02-06 00:00:00 | 00036
 42 | 42 | 42 |  0 | 21 | t  | 1970-02-12 00:00:00 | 00042
 48 | 48 | 48 |  0 | 24 | t  | 1970-02-18 00:00:00 | 00048
 54 | 54 | 54 |  0 | 27 | t  | 1970-02-24 00:00:00 | 00054
 60 | 60 | 60 |  0 | 30 | t  | 1970-03-02 00:00:00 | 00060
(10 rows)

--Testcase 665:
DROP DATASOURCE TABLE ft2__postgres1__0;
--Testcase 666:
DROP DATASOURCE TABLE ft2__mysql1__0;
--Testcase 667:
DROP DATASOURCE TABLE ft2__griddb1__0;
--Testcase 668:
DROP DATASOURCE TABLE ft2__oracle1__0;
--Testcase 814:
DROP DATASOURCE TABLE ft2__influx1__0;
--Testcase 669:
DROP FOREIGN TABLE ft2__postgres1__0;
--Testcase 670:
DROP FOREIGN TABLE ft2__pgspider1__0;
--Testcase 671:
DROP FOREIGN TABLE ft2__mysql1__0;
--Testcase 672:
DROP FOREIGN TABLE ft2__griddb1__0;
--Testcase 673:
DROP FOREIGN TABLE ft2__oracle1__0;
--Testcase 815:
DROP FOREIGN TABLE ft2__influx1__0;
--Testcase 674:
DROP FOREIGN TABLE ft2;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
-- MIGRATE REPLACE
MIGRATE TABLE ft1 REPLACE OPTIONS (socket_port '4814', function_timeout '800') SERVER
        postgres1 OPTIONS (table_name 'multi', relay 'cloud1'),
        pgspider1 OPTIONS (table_name 'multi3', relay 'cloud1'),
        mysql1 OPTIONS (dbname 'test1', table_name 'multi', relay 'cloud1'),
        griddb1 OPTIONS (table_name 'multi', relay 'cloud1'),
        oracle1 OPTIONS (table 'multi', relay 'cloud1'),
        influx1 OPTIONS (table 'multi', relay 'cloud1', org 'myorg');
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.055
INFO:  compression ratio: 2.054
INFO:  compression ratio: 2.057
INFO:  compression ratio: 2.061
INFO:  compression ratio: 2.050
INFO:  Batch Insert for pgspider_fdw, batch size = 8191
INFO:  compression ratio: 2.058
--Testcase 675:
\d
                  List of relations
 Schema |       Name        |     Type      |  Owner  
--------+-------------------+---------------+---------
 public | ft1               | foreign table | vagrant
 public | ft1__griddb1__0   | foreign table | vagrant
 public | ft1__influx1__0   | foreign table | vagrant
 public | ft1__mysql1__0    | foreign table | vagrant
 public | ft1__oracle1__0   | foreign table | vagrant
 public | ft1__pgspider1__0 | foreign table | vagrant
 public | ft1__postgres1__0 | foreign table | vagrant
 public | t1                | table         | vagrant
(8 rows)

-- Check data for first 10 records and number of records
ALTER SERVER griddb1 OPTIONS (drop host);
ALTER SERVER griddb1 OPTIONS (drop port);
ALTER SERVER griddb1 OPTIONS (add notification_member '127.0.0.1:10002');
--Testcase 676:
SELECT count(*) FROM ft1;
 count 
-------
 20000
(1 row)

--Testcase 677:
SELECT * FROM ft1__postgres1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  1 |  1 |  1 |  0 |  0 | t  | 1970-01-02 00:00:00 | 00001
  7 |  7 |  7 |  0 |  3 | t  | 1970-01-08 00:00:00 | 00007
 13 | 13 | 13 |  0 |  6 | t  | 1970-01-14 00:00:00 | 00013
 19 | 19 | 19 |  0 |  9 | t  | 1970-01-20 00:00:00 | 00019
 25 | 25 | 25 |  0 | 12 | t  | 1970-01-26 00:00:00 | 00025
 31 | 31 | 31 |  0 | 15 | t  | 1970-02-01 00:00:00 | 00031
 37 | 37 | 37 |  0 | 18 | t  | 1970-02-07 00:00:00 | 00037
 43 | 43 | 43 |  0 | 21 | t  | 1970-02-13 00:00:00 | 00043
 49 | 49 | 49 |  0 | 24 | t  | 1970-02-19 00:00:00 | 00049
 55 | 55 | 55 |  0 | 27 | t  | 1970-02-25 00:00:00 | 00055
(10 rows)

--Testcase 678:
SELECT * FROM ft1__pgspider1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  2 |  2 |  2 |  0 |  1 | t  | 1970-01-03 00:00:00 | 00002
  8 |  8 |  8 |  0 |  4 | t  | 1970-01-09 00:00:00 | 00008
 14 | 14 | 14 |  0 |  7 | t  | 1970-01-15 00:00:00 | 00014
 20 | 20 | 20 |  0 | 10 | t  | 1970-01-21 00:00:00 | 00020
 26 | 26 | 26 |  0 | 13 | t  | 1970-01-27 00:00:00 | 00026
 32 | 32 | 32 |  0 | 16 | t  | 1970-02-02 00:00:00 | 00032
 38 | 38 | 38 |  0 | 19 | t  | 1970-02-08 00:00:00 | 00038
 44 | 44 | 44 |  0 | 22 | t  | 1970-02-14 00:00:00 | 00044
 50 | 50 | 50 |  0 | 25 | t  | 1970-02-20 00:00:00 | 00050
 56 | 56 | 56 |  0 | 28 | t  | 1970-02-26 00:00:00 | 00056
(10 rows)

--Testcase 679:
SELECT * FROM ft1__mysql1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  3 |  3 |  3 |  0 |  1 | t  | 1970-01-04 00:00:00 | 00003
  9 |  9 |  9 |  0 |  4 | t  | 1970-01-10 00:00:00 | 00009
 15 | 15 | 15 |  0 |  7 | t  | 1970-01-16 00:00:00 | 00015
 21 | 21 | 21 |  0 | 10 | t  | 1970-01-22 00:00:00 | 00021
 27 | 27 | 27 |  0 | 13 | t  | 1970-01-28 00:00:00 | 00027
 33 | 33 | 33 |  0 | 16 | t  | 1970-02-03 00:00:00 | 00033
 39 | 39 | 39 |  0 | 19 | t  | 1970-02-09 00:00:00 | 00039
 45 | 45 | 45 |  0 | 22 | t  | 1970-02-15 00:00:00 | 00045
 51 | 51 | 51 |  0 | 25 | t  | 1970-02-21 00:00:00 | 00051
 57 | 57 | 57 |  0 | 28 | t  | 1970-02-27 00:00:00 | 00057
(10 rows)

--Testcase 680:
SELECT * FROM ft1__griddb1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  4 |  4 |  4 |  0 |  2 | t  | 1970-01-05 00:00:00 | 00004
 10 | 10 | 10 |  0 |  5 | t  | 1970-01-11 00:00:00 | 00010
 16 | 16 | 16 |  0 |  8 | t  | 1970-01-17 00:00:00 | 00016
 22 | 22 | 22 |  0 | 11 | t  | 1970-01-23 00:00:00 | 00022
 28 | 28 | 28 |  0 | 14 | t  | 1970-01-29 00:00:00 | 00028
 34 | 34 | 34 |  0 | 17 | t  | 1970-02-04 00:00:00 | 00034
 40 | 40 | 40 |  0 | 20 | t  | 1970-02-10 00:00:00 | 00040
 46 | 46 | 46 |  0 | 23 | t  | 1970-02-16 00:00:00 | 00046
 52 | 52 | 52 |  0 | 26 | t  | 1970-02-22 00:00:00 | 00052
 58 | 58 | 58 |  0 | 29 | t  | 1970-02-28 00:00:00 | 00058
(10 rows)

--Testcase 681:
SELECT * FROM ft1__oracle1__0 ORDER BY c1 LIMIT 10;
 c1 | c2 | c3 | c4 | c5 | c6 |         c7          |  c8   
----+----+----+----+----+----+---------------------+-------
  5 |  5 |  5 |  0 |  2 | t  | 1970-01-06 00:00:00 | 00005
 11 | 11 | 11 |  0 |  5 | t  | 1970-01-12 00:00:00 | 00011
 17 | 17 | 17 |  0 |  8 | t  | 1970-01-18 00:00:00 | 00017
 23 | 23 | 23 |  0 | 11 | t  | 1970-01-24 00:00:00 | 00023
 29 | 29 | 29 |  0 | 14 | t  | 1970-01-30 00:00:00 | 00029
 35 | 35 | 35 |  0 | 17 | t  | 1970-02-05 00:00:00 | 00035
 41 | 41 | 41 |  0 | 20 | t  | 1970-02-11 00:00:00 | 00041
 47 | 47 | 47 |  0 | 23 | t  | 1970-02-17 00:00:00 | 00047
 53 | 53 | 53 |  0 | 26 | t  | 1970-02-23 00:00:00 | 00053
 59 | 59 | 59 |  0 | 29 | t  | 1970-03-01 00:00:00 | 00059
(10 rows)

--Testcase 682:
DROP FOREIGN TABLE ft1;
ALTER SERVER griddb1 OPTIONS (drop notification_member);
ALTER SERVER griddb1 OPTIONS (add host '127.0.0.1');
ALTER SERVER griddb1 OPTIONS (add port '20002');
--Testcase 683:
DROP TABLE t1;
-- -- ===================================================================
-- -- CREATE RELAY SERVER TABLE WITH NAT OPTIONS
-- -- ===================================================================
-- CREATE SERVER postgres_svr_test FOREIGN DATA WRAPPER postgres_fdw OPTIONS (host '127.0.0.1', port '5432', dbname 'test1');
-- CREATE USER MAPPING FOR public SERVER postgres_svr_test OPTIONS (user 'postgres', password 'postgres');
-- CREATE SERVER cloud_test FOREIGN DATA WRAPPER pgspider_fdw OPTIONS (endpoint 'http://localhost:8080', proxy 'no', batch_size '10000');
-- CREATE USER MAPPING FOR public SERVER cloud_test;
-- CREATE table test_nat_tbl (c1 bigint);
-- INSERT INTO test_nat_tbl VALUES (12346);
-- -- Migrate fail, ifconfig_service does not correct
-- --Testcase 684:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', ifconfig_service 'localhost:2222') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- -- Migrate fail, host does not correct
-- --Testcase 685:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '123.123.123.123.123') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host 'pgspider_no_exist.test') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- -- Migrate fail, public_host and ifconfig_service cannot both config
-- --Testcase 686:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', ifconfig_service 'localhost:2255') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- -- Migrate success
-- --Testcase 687:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', ifconfig_service 'localhost:2255' ) SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- SELECT * FROM test_tbl;
-- DROP DATASOURCE TABLE test_tbl;
-- DROP FOREIGN TABLE test_tbl;
-- -- Migrate fail, port out of range
-- --Testcase 688:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', public_port '0') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', public_port '65536') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', public_port 'localhost') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- -- Migrate fail, port does not correct
-- --Testcase 689:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', public_port '4444') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- -- Migrate success, port valid
-- --Testcase 690:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_host '127.0.0.1', public_port '24814') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- SELECT * FROM test_tbl;
-- DROP DATASOURCE TABLE test_tbl;
-- DROP FOREIGN TABLE test_tbl;
-- -- Migrate success
-- --Testcase 691:
-- MIGRATE TABLE test_nat_tbl TO test_tbl OPTIONS (socket_port '4814', function_timeout '800', public_port '24814', ifconfig_service 'localhost:2255') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl', relay 'cloud_test');
-- SELECT * FROM test_tbl;
-- -- Migrate success
-- --Testcase 692:
-- MIGRATE TABLE test_nat_tbl TO test_tbl2 OPTIONS (socket_port '4814', function_timeout '800', public_host 'pgspider.test') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl2', relay 'cloud_test');
-- SELECT * FROM test_tbl2;
-- -- Migrate success
-- --Testcase 693:
-- MIGRATE TABLE test_nat_tbl TO test_tbl3 OPTIONS (socket_port '4814', function_timeout '800') SERVER postgres_svr_test OPTIONS (table_name 'test_tbl3', relay 'cloud_test');
-- SELECT * FROM test_tbl3;
-- DROP DATASOURCE TABLE test_tbl;
-- DROP DATASOURCE TABLE test_tbl2;
-- DROP DATASOURCE TABLE test_tbl3;
-- DROP FOREIGN TABLE test_tbl;
-- DROP FOREIGN TABLE test_tbl2;
-- DROP FOREIGN TABLE test_tbl3;
-- DROP TABLE test_nat_tbl;
-- DROP SERVER postgres_svr_test CASCADE;
-- Clean
--Testcase 694:
DROP EXTENSION postgres_fdw CASCADE;
NOTICE:  drop cascades to 9 other objects
DETAIL:  drop cascades to server loopback
drop cascades to user mapping for vagrant on server loopback
drop cascades to server postgres1
drop cascades to user mapping for public on server postgres1
drop cascades to foreign table ft1__postgres1__0
drop cascades to server postgres2
drop cascades to user mapping for public on server postgres2
drop cascades to server postgres3
drop cascades to user mapping for public on server postgres3
--Testcase 695:
DROP EXTENSION mysql_fdw CASCADE;
NOTICE:  drop cascades to 7 other objects
DETAIL:  drop cascades to server mysql1
drop cascades to user mapping for public on server mysql1
drop cascades to foreign table ft1__mysql1__0
drop cascades to server mysql2
drop cascades to user mapping for public on server mysql2
drop cascades to server mysql3
drop cascades to user mapping for public on server mysql3
--Testcase 696:
DROP EXTENSION oracle_fdw CASCADE;
NOTICE:  drop cascades to 7 other objects
DETAIL:  drop cascades to server oracle1
drop cascades to user mapping for public on server oracle1
drop cascades to foreign table ft1__oracle1__0
drop cascades to server oracle2
drop cascades to user mapping for public on server oracle2
drop cascades to server oracle3
drop cascades to user mapping for public on server oracle3
--Testcase 697:
DROP EXTENSION griddb_fdw CASCADE;
NOTICE:  drop cascades to 7 other objects
DETAIL:  drop cascades to server griddb1
drop cascades to user mapping for public on server griddb1
drop cascades to foreign table ft1__griddb1__0
drop cascades to server griddb2
drop cascades to user mapping for public on server griddb2
drop cascades to server griddb3
drop cascades to user mapping for public on server griddb3
--Testcase 698:
DROP EXTENSION influxdb_fdw CASCADE;
NOTICE:  drop cascades to 9 other objects
DETAIL:  drop cascades to server influxdb_svr_test
drop cascades to user mapping for public on server influxdb_svr_test
drop cascades to server influx1
drop cascades to user mapping for public on server influx1
drop cascades to foreign table ft1__influx1__0
drop cascades to server influx2
drop cascades to user mapping for public on server influx2
drop cascades to server influx3
drop cascades to user mapping for public on server influx3
--Testcase 699:
DROP EXTENSION pgspider_fdw CASCADE;
NOTICE:  drop cascades to 13 other objects
DETAIL:  drop cascades to server cloud1
drop cascades to user mapping for public on server cloud1
drop cascades to server cloud2
drop cascades to user mapping for public on server cloud2
drop cascades to server cloud3
drop cascades to user mapping for public on server cloud3
drop cascades to server pgspider1
drop cascades to user mapping for public on server pgspider1
drop cascades to foreign table ft1__pgspider1__0
drop cascades to server pgspider2
drop cascades to user mapping for public on server pgspider2
drop cascades to server pgspider3
drop cascades to user mapping for public on server pgspider3
--Testcase 700:
DROP EXTENSION pgspider_core_fdw CASCADE;
NOTICE:  drop cascades to server pgspider_core_svr
